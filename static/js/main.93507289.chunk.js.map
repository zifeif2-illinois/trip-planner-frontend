{"version":3,"sources":["firebase.js","api/firebaseAuth.js","components/common/NavBar.js","components/App/CitySearch.js","components/App/Home.jsx","components/common/SearchInput.js","components/Create/ActivityCard.js","components/common/SelectionButtons.js","components/Create/NewActivityCard.js","components/Create/DateCard.js","components/common/ShareWidget.js","components/Create/RoutePlanner.js","components/Create/SearchView.js","api/trip.js","api/user.js","components/Create/CreateTrip.js","components/Review/TripCard.js","components/Review/TripList.js","components/Review/ReviewView.js","components/Review/ReviewTrip.js","components/ReviewDetail/ActivityCard.js","components/ReviewDetail/DateCard.js","components/ReviewDetail/RouteDetail.js","components/ReviewDetail/TripDetail.js","components/Profile/Profile.js","components/App/App.js","serviceWorker.js","index.js"],"names":["fbAuth","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","auth","getCurrentUser","currentUser","NavBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","hasLogin","firebaseApi","setState","objectSpread","name","email","logout","signOut","then","history","push","state","react_default","a","createElement","Menu","className","fixed","Item","link","position","Link","to","Dropdown","text","concat","item","onClick","NavBar_ModelLoginAndRegister","status","Component","ModelLoginAndRegister","_this2","login","userEmail","userPassword","loginPassword","signInWithEmailAndPassword","data","user","catch","error","console","log","toString","result","register","registerPassword","createUserWithEmailAndPassword","axios","post","registerName","response","_this3","Modal","trigger","closeIcon","Header","Content","Description","Input","icon","placeholder","type","value","onChange","event","target","Button","CitySearch","handlePlaceSelect","addressObject","autocomplete","getPlace","address","address_components","onSelect","long_name","formatted_address","lat","geometry","location","lng","google","maps","places","Autocomplete","document","getElementById","types","addListener","id","query","iconPosition","Home","changeDestination","destination","changeDate","date","startDate","createTrip","setCitySearchResult","city","cityQuery","cityLocation","changeCitySearch","Date","duration","NavBar_NavBar","App_CitySearch","es","selected","label","SearchInput","action","color","searchOnClick","ActivityCard","toggleEditView","isEditing","deleteActivity","isPopularActivity","Card","Image","floated","size","src","Meta","href","url","SelectionButtons","Group","selectOption1","onToggle","option1","Or","option2","NewActivityCard","addCustomActicity","isSearchingPopular","customActivity","searchAttraction","searchFood","isSearchingAttraction","fluid","searchThings","onCancel","DateCard","switchHotel","isSearchingHotel","openAddActivityCard","isAddingNewActivity","keyword","index","editHotel","hotel","searchHotel","setCustomHotel","hotelName","customHotel","setHotel","updateMap","activities","prevProps","prevState","length","listOfActivities","map","activity","ActivityCard_ActivityCard","assign","key","Icon","content","extra","basic","NewActivityCard_NewActivityCard","dummy","ShareWidget","handleResultSelect","e","_ref","listOfUsers","toConsumableArray","includes","resetComponent","isLoading","matchedResult","handleSearchChange","_ref2","results","setTimeout","re","RegExp","_","escapeRegExp","filter","test","title","deselectUser","pull","shareTrip","dum","description","idx","List","Search","onResultSelect","loading","onSearchChange","debounce","leading","divided","RoutePlanner","attemptToSaveTrip","openSaveModal","openLoginModal","saveTrip","dailyRoutes","route","day","hotels","newTrip","routes","dateIndex","isPublicHotel","isSaved","acitivity","mapDay","newMarkers","refreshMarkers","markers","openModal","forEach","marker","setMap","window","Marker","createInfoWindow","handleTripAttrsChange","defineProperty","originalHotels","Array","fill","originalPlans","newAddedThing","_newAddedThing$thing","thing","place_id","geometry_number","_newAddedThing$thing2","InfoWindow","latLng","open","dateCards","DateCard_DateCard","onClose","Form","onSubmit","required","TextArea","SearchView","searchResult","Segment","listOfResults","SearchView_SearchResultCard","addToBoard","service","SearchResultCard","photos","getUrl","maxWidth","maxHeight","dummyTrips","owner","shared","currentUserId","CreateTripBody","newActivity","newResult","searchKeyword","toLowerCase","searchType","request","textSearch","PlacesServiceStatus","OK","isModalOpen","trip","Promise","resolve","newTripId","jumpReview","mapElement","Map","center","zoom","PlacesService","modal","onclick","RoutePlanner_RoutePlanner","SearchView_SearchView","CreateTrip","endDate","parseInt","setDate","getDate","toDateString","CreateTrip_CreateTripBody","tripId","TripCard","deleteTrip","onDeleteTrip","isDeleting","detailViewLink","parse","toLocaleDateString","TripList","trips","detailViewType","ready","tripCards","TripCard_TripCard","defaultProps","ReviewView","hasDatePast","today","now","upcomingTrips","pastTrips","as","TripList_TripList","ReviewTripBody","ReviewView_ReviewView","ReviewTrip","ReviewTrip_ReviewTripBody","ReviewDetail_ActivityCard_ActivityCard","RouteDetail","jumpEdit","openShare","openShareModal","ReviewDetail_DateCard_DateCard","shareIcon","ShareWidget_ShareWidget","TripDetailBody","_Component","getListOfMarkers","dateRoute","putMarkersOnMap","onChangeSelectedDay","selectedDate","markersOfADate","inherits","createClass","allMarkers","apply","i","dayOptions","realDay","RouteDetail_RouteDetail","Divider","vertical","options","defaultValue","TripDetail","match","params","TripDetail_TripDetailBody","Profile","toggleEdit","onNameChange","editName","resetPassword","sendPasswordResetEmail","alert","disabled","App","BrowserRouter","Switch","Route","exact","path","component","Boolean","hostname","ReactDOM","render","components_App_App","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.93507289.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/auth';\nvar config = { /* COPY THE ACTUAL CONFIG FROM FIREBASE CONSOLE */\n  apiKey: \"AIzaSyA6GoLwhUzLcRguPqu8S2KLROMg67w4eT0\",\n  authDomain: \"cs498rk-239014.firebaseapp.com\",\n  databaseURL: \"https://cs498rk-239014.firebaseio.com\",\n  projectId: \"cs498rk-239014\",\n  storageBucket: \"cs498rk-239014.appspot.com\",\n  messagingSenderId: \"1053708047986\"\n};\nvar fire = firebase.initializeApp(config);\nvar fbAuth = fire.auth();\nexport {fire,\n  fbAuth\n}\n","import { fbAuth} from '../firebase.js'\n\nexport function getCurrentUser() {\n  return fbAuth.currentUser;\n}\n\nexport function login(userEmail, userPassword) {\n    return fbAuth.signInWithEmailAndPassword(userEmail, userPassword)\n      .then((data) => ({user: data['user']}))\n      .catch(function(error) {\n      \tconsole.log(error)\n       \treturn {error: error.toString()};\n    });\n}\n\n\nexport function register( userEmail, userPassword ) {\n  return fbAuth.createUserWithEmailAndPassword(userEmail, userPassword)\n      .then(function(data) {\n        if(data['user']) {\n          return {user: data['user']}\n        }\n      })\n      .catch(function(error) {\n        return {user: null, error: error.toString()};\n      })\n}\n\nexport function logout() {\n  return fbAuth.signOut()\n}\n\nexport function resetPassword(email) {\n  return fbAuth.sendPasswordResetEmail(email)\n}\n","import React, { Component } from 'react'\nimport { Menu, Modal, Button, Input, Dropdown} from 'semantic-ui-react'\nimport { Link } from 'react-router-dom'\nimport * as firebaseApi from '../../api/firebaseAuth'\nimport '../../style/NavBar.scss'\nimport axios from 'axios';\n\nexport default class NavBar extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      currentUser: firebaseApi.getCurrentUser()\n    }\n  }\n\n  componentDidMount() {\n    let currentUser = firebaseApi.getCurrentUser()\n    if(currentUser) {\n      this.setState({currentUser: {...currentUser, name: currentUser.email}})\n    }\n  }\n\n  hasLogin = () => {\n    let currentUser = firebaseApi.getCurrentUser()\n    this.setState({currentUser: {...currentUser, name: currentUser.email}}) // TODO: call backend api to get user basic information\n  }\n\n  logout = () => {\n    firebaseApi.logout().then(() => {\n      this.setState({currentUser: null})\n      this.props.history.push(`/trip-planner`)\n    })\n  }\n\n  render() {\n    // TODO: add link to dropdown.item\n    return (\n      <Menu className='navbar' fixed='top'>\n        <Menu.Item link position='left'> <Link to='/trip-planner'>Trip Planner</Link></Menu.Item>\n        {!this.state.currentUser?null\n        :\n        <Menu.Menu position='right'>\n          <Dropdown text={`Hi, ${this.state.currentUser.name}`}item>\n            <Dropdown.Menu>\n              <Dropdown.Item>My Trips</Dropdown.Item>\n              <Dropdown.Item><Link to='/trip-planner/profile'>Profile</Link></Dropdown.Item>\n              <Dropdown.Item onClick={this.logout}>Logout</Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n        </Menu.Menu>\n        }\n        {!this.state.currentUser? <Menu.Item link> <ModelLoginAndRegister status='Login' hasLogin={this.hasLogin}/> </Menu.Item>: null}\n        {!this.state.currentUser? <Menu.Item link> <ModelLoginAndRegister status='Register' hasLogin={this.hasLogin}/> </Menu.Item>:null}\n      </Menu>\n    )\n  }\n}\n\nclass ModelLoginAndRegister extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      status: props.status,\n      email: '',\n      loginPassword: '',\n      registerPassword: '',\n      registerName: '',\n      error: '',\n    }\n  }\n\n  login=()=>{\n    firebaseApi.login(this.state.email, this.state.loginPassword).then(result => {\n      if(result.user) {\n        this.setState({error: ''})\n        this.props.hasLogin()\n      }\n      else {\n        this.setState({error: result.error})\n      }\n    })\n  }\n\n  register = () => {\n    firebaseApi.register(this.state.email, this.state.registerPassword).then(result=> {\n      if(result.user) {\n        axios.post('https://us-central1-cs498rk-239014.cloudfunctions.net/user/', {\n          name: this.state.registerName,\n          email: this.state.email\n        }).then(response => {\n          console.log(response.data);\n        });\n        this.setState({error: '', status: 'Login'})\n      }\n      else {\n        this.setState({error: result.error})\n      }\n    })\n  }\n\n  render() {\n      return (<Modal trigger={<span>{this.props.status}</span>} closeIcon>\n      <Modal.Header>Trip Planner -{this.state.status}</Modal.Header>\n      <Modal.Content>\n          {\n            this.state.status === 'Login' ?\n            <Modal.Description>\n              <div className='login-register-content'>\n                <Input icon='envelope' placeholder='Email' type='email' value={this.state.email} onChange={event=>this.setState({email: event.target.value})}/>\n                <Input icon='lock' placeholder='Password' type='password' value={this.state.loginPassword} onChange={event=>this.setState({loginPassword: event.target.value})}/>\n                <Button className='ui button green' onClick={this.login}> Login </Button>\n                <a className='subButton' onClick={()=>this.setState({status: 'Register'})}> Create an account </a>\n              </div>\n            </Modal.Description>\n          : <Modal.Description>\n              <div className='login-register-content'>\n                <Input icon='user' placeholder='Name' value={this.state.registerName} onChange={event=>this.setState({registerName: event.target.value})}/>\n                <Input icon='envelope' placeholder='Email' type='email' value={this.state.email} onChange={event=>this.setState({email: event.target.value})}/>\n                <Input icon='lock' placeholder='Password' type='password'  value={this.state.registerPassword} onChange={event=>this.setState({registerPassword: event.target.value})}/>\n                <Button className='ui button green' onClick={this.register}> Register </Button>\n                <a className='subButton'  onClick={()=>this.setState({status: 'Login'})}> Already have an account? </a>\n              </div>\n            </Modal.Description>\n          }\n          <span className='error'> {this.state.error} </span>\n      </Modal.Content>\n    </Modal>\n  )\n  }\n}\n","// Imports\nimport React, { Component } from 'react';\nimport 'semantic-ui-css/semantic.min.css';\nimport { Input } from 'semantic-ui-react'\nimport '../../style/Home.scss';\n\nclass CitySearch extends Component {\n  componentDidMount() {\n    // Declare Options For Autocomplete\n    var options = {\n      types: ['(cities)'],\n    };\n\n    // Initialize Google Autocomplete\n    /*global google*/ // To disable any eslint 'google not defined' errors\n    this.autocomplete = new google.maps.places.Autocomplete(\n      document.getElementById('city-search'),\n      options,\n    );\n\n    // Fire Event when a suggested name is selected\n    this.autocomplete.addListener('place_changed', this.handlePlaceSelect);\n  }\n\n  handlePlaceSelect =()=> {\n    // Extract City From Address Object\n    let addressObject = this.autocomplete.getPlace();\n    let address = addressObject.address_components;\n\n    // Check if address is valid\n    if (address) {\n      // Set State\n      this.props.onSelect(\n        address[0].long_name, \n        addressObject.formatted_address, \n        {\n          lat: addressObject.geometry.location.lat(),\n          lng: addressObject.geometry.location.lng()\n        }\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"city-search\" >\n        <Input id=\"city-search\" value={this.props.query} onChange={this.props.onChange} placeholder=\"Destination\" icon='search' iconPosition='left'/>\n      </div>\n    );\n  }\n}\nexport default CitySearch;\n","import React, { Component } from 'react'\nimport { Input } from 'semantic-ui-react'\nimport '../../style/Home.scss'\nimport NavBar from '../common/NavBar'\nimport DatePicker from 'react-datepicker'\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport CitySearch from './CitySearch'\n\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      startDate: new Date(),\n      duration: 0,\n      city: '',\n      cityQuery: '',\n      cityLocation: {lat: 41.8781, lng: -87.6298}\n    }\n  }\n\n  changeDestination = event => {\n    this.setState({destination: event.target.value})\n  }\n\n  changeDate = date => {\n    this.setState({startDate: date})\n  }\n\n  createTrip = () => {\n    this.props.history.push('/trip-planner/create', {...this.state})\n  }\n\n  setCitySearchResult = (city, cityQuery, cityLocation) => {\n    this.setState({city, cityQuery, cityLocation})\n  }\n\n  changeCitySearch = event => {\n    this.setState({cityQuery: event.target.value})\n  }\n\n  render() {\n    return (\n      <div className='home-container'>\n        <NavBar history={this.props.history}/>\n        <div className ='bg'>\n          <div className='ui card basic-info'>\n            <h3> Start planning your trip </h3>\n            <CitySearch onChange={this.changeCitySearch} onSelect={this.setCitySearchResult} query={this.state.cityQuery}/>\n            <div className= \"date-container\">\n              <h3> Start Date </h3>\n              <DatePicker className=\"datepicker\"\n                  selected={this.state.startDate}\n                  onChange={date => this.changeDate(date)}\n              />\n            </div>\n            <Input\n            className='duration'\n            onChange={event=>this.setState({duration:event.target.value})}\n            type='number'\n            label='Duration'\n            value={this.state.duration}\n            />\n            <button className=\"ui pink button\" onClick={this.createTrip}>Let's go!</button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport {Input} from 'semantic-ui-react'\n\n\nexport default function SearchInput(props){\n  return <Input\n  onChange={props.onChange}\n  placeholder={props.placeholder||'search...'}\n  value={props.value}\n  action={{ color: 'teal', icon: 'search', onClick:props.searchOnClick}}\n  />\n}\n","import React, { Component } from 'react'\nimport { Card, Image, Input, Button} from 'semantic-ui-react'\nimport '../../style/ActivityCard.scss'\n\n// This component contains activities added to route planner\n//parent: datecard\nexport default class ActivityCard extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state={\n      name: '',\n      location: '',\n      isPopularActivity: true,\n      isEditing: false,\n    }\n  }\n\n  componentDidMount() {\n    console.log(this.props)\n    this.setState({name: this.props.name, isPopularActivity: this.props.isPopularActivity})\n  }\n\n  toggleEditView = () => {\n    this.setState({isEditing: !this.state.isEditing})\n  }\n  deleteActivity=()=>{\n    this.props.deleteActivity(this.props.name) //use the name as teh id\n  }\n\n  render() {\n    if(!this.props.formatted_address) {\n      return (!this.state.isEditing?\n          <Card className='activity-container'>\n           <Card.Content>\n            <Card.Header>{this.state.name}</Card.Header>\n            <Card.Meta>Personal Activity</Card.Meta>\n            <a className='edit-activity' onClick={this.toggleEditView}>edit</a>\n            <a className='delete-activity' onClick={this.deleteActivity}>delete</a>\n            </Card.Content>\n          </Card>\n        :<Card className='activity-container'>\n          <Card.Content>\n            <Input placeholder='name' value={this.state.name} onChange={event=>this.setState({name: event.target.value})}/>\n            <Button onClick={this.toggleEditView}>Save</Button>\n          </Card.Content>\n          </Card>)\n\n    }\n    return (\n          <Card className='activity-container'>\n            <Card.Content>\n              <Image floated='right' size='mini' src={this.props.icon}/>\n               <Card.Header>{this.props.name}</Card.Header>\n               <Card.Meta>Location: {this.props.formatted_address}</Card.Meta>\n               <a className='view-detail' href={this.props.url} target='_blank'>view detail</a>\n               <a className='delete-activity' onClick={this.deleteActivity}>delete</a>\n             </Card.Content>\n          </Card>\n    )\n  }\n}\n","import React from 'react'\nimport {Button} from 'semantic-ui-react'\n\nexport default function SelectionButtons(props) {\n  return (\n    <Button.Group>\n      <Button color={props.selectOption1?'teal':null} onClick={props.onToggle}>{props.option1}</Button>\n      <Button.Or />\n      <Button color={!props.selectOption1?'teal':null} onClick={props.onToggle}>{props.option2}</Button>\n    </Button.Group>\n  )\n}\n","import React, { Component } from 'react'\nimport { Card, Input, Button} from 'semantic-ui-react'\nimport SearchInput from '../common/SearchInput'\nimport '../../style/NewActivityCard.scss'\nimport SelectionButtons from '../common/SelectionButtons'\n\n\n// This is the card view when adding new activity.\n// Parent: DateCards\nexport default class NewActivityCard extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state={\n      isSearchingPopular: true,\n      searchAttraction: '',\n      searchFood: '',\n      isSearchingAttraction: true,\n      customActivity: ''\n    }\n  }\n\n  addCustomActicity = () => {\n    this.setState({isSearchingPopular: false})\n    this.props.addCustomActicity(this.state.customActivity)\n  }\n\n  render() {\n    return (<Card className='new-activity-container' fluid>\n      <Card.Content>\n        <SelectionButtons option1='Popular Activity' option2='Personal Activity'\n        selectOption1={this.state.isSearchingPopular} onToggle={()=>this.setState({isSearchingPopular:!this.state.isSearchingPopular})}/>\n        {this.state.isSearchingPopular?\n          <div className='search-bar'>\n            {this.state.isSearchingAttraction?\n              <SearchInput onChange={event=>this.setState({searchAttraction: event.target.value})}\n                placeholder='search activity...' value={this.state.searchAttraction}\n                searchOnClick={()=>this.props.searchThings(this.state.searchAttraction, 'attraction')}/>\n                :\n              <SearchInput onChange={event=>this.setState({searchFood: event.target.value})}\n                placeholder='search food...' value={this.state.searchFood}\n                searchOnClick={()=>this.props.searchThings(this.state.searchFood, 'food')}/>\n            }\n            <SelectionButtons option1='Activity' option2='Food'\n            selectOption1={this.state.isSearchingAttraction} onToggle={()=>this.setState({isSearchingAttraction:!this.state.isSearchingAttraction})}/>\n          </div>\n            :\n          <Input className='personal' onChange={event=>this.setState({customActivity: event.target.value})} value={this.state.customActivity}\n            action={{ color: 'teal', icon: 'check', onClick:this.addCustomActicity}}/>\n        }\n        <Button onClick={this.props.onCancel}>Cancel</Button>\n      </Card.Content>\n    </Card>)\n  }\n}\n","import React, { Component } from 'react'\nimport { Card, Header, Input, Icon, Button} from 'semantic-ui-react'\nimport SearchInput from '../common/SearchInput'\nimport '../../style/RoutePlanner.scss'\nimport ActivityCard from './ActivityCard'\nimport SelectionButtons from '../common/SelectionButtons'\nimport NewActivityCard from './NewActivityCard'\n\n// Contains attractions for each day, receive a list of activities to populate the route\n// parent: RoutePlanner\n// component of DateCard: {\n  // hotel: {}, activities: []\n//}\nexport default class DateCard extends Component {\n\n    constructor(props) {\n      super(props)\n\n      this.state={\n        hotel: {},\n        searchHotel: '',\n        isSearchingHotel: true,\n        activities: this.props.activities,\n        isAddingNewActivity: false,\n        customHotel: ''\n      }\n    }\n\n\n    switchHotel = () => {\n      this.setState({isSearchingHotel: !this.state.isSearchingHotel})\n    }\n    openAddActivityCard =() => {\n      this.setState({isAddingNewActivity: !this.state.isAddingNewActivity})\n    }\n\n    searchThings=(keyword, type) => {\n      // Add its own day index\n      this.props.searchThings(keyword, type, this.props.index)\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n      if(prevProps.hotel.name !== this.props.hotel.name) {\n        this.setState({hotel: this.props.hotel})\n      } else if(this.props.activities.length !== prevProps.activities.length) {\n        this.setState({activities: this.props.activities})\n      }\n    }\n\n    editHotel = () => {\n      let hotel = {...this.state.hotel}\n      hotel.name = ''\n      this.setState({hotel, searchHotel: this.state.hotel.name})\n    }\n\n    setCustomHotel = () => {\n      let hotelName = this.state.customHotel\n      this.setState({hotel: {name: hotelName}})\n      this.props.setHotel(hotelName, this.props.index)\n    }\n\n    addCustomActicity = name => {\n      this.props.addCustomActicity(name, this.props.index)\n    }\n\n    deleteActivity = name => {\n        this.props.deleteActivity(name, this.props.index)\n    }\n\n    updateMap = () => {\n      this.props.updateMap(this.props.index);\n    }\n\n    render() {\n      let listOfActivities = this.state.activities.map(activity => <ActivityCard deleteActivity={this.deleteActivity} key={activity.name} {...activity} />)\n      return (<Card className='day-container'>\n        <Card.Content>\n          <Card.Header>Day {this.props.index+1}</Card.Header>\n          <Header.Content>\n            <div className='hotel-container'>\n              <Icon name='hotel' />\n              Staying in\n              {this.state.hotel.name?\n                <div className='hotel-name'>\n                  <span> {this.state.hotel.name} </span>\n                  {this.state.hotel.url? <a className='edit-activity' href={this.state.hotel.url} target='_blank'> view detail </a>:null}\n                  <a className='edit-activity' onClick={this.editHotel}>edit</a>\n                </div>\n                :\n                <div className='hotel-value-container'>\n                {this.state.isSearchingHotel?\n                  <SearchInput onChange={event=>this.setState({searchHotel: event.target.value})}\n                    placeholder='popular hotel' value={this.state.searchHotel}\n                    searchOnClick={()=>this.searchThings(this.state.searchHotel, 'hotel')}/>\n                  :\n                  <Input onChange={event=>this.setState({customHotel: event.target.value})} value={this.state.customHotel}\n                    action={{ color: 'teal', icon: 'plus', onClick: this.setCustomHotel}}/>\n                }\n                <SelectionButtons option1='Popular' option2='Personal'\n                selectOption1={this.state.isSearchingHotel} onToggle={this.switchHotel}/>\n                </div>\n              }\n              <Button className='map-button' icon='map marker alternate' color='teal' content='View on map' onClick={this.updateMap}/>\n            </div>\n          </Header.Content>\n        </Card.Content>\n        {this.state.activities.length?\n          <Card.Content extra>\n            {listOfActivities}\n          </Card.Content>\n          :null\n        }\n        <Card.Content extra className='new-activity-button-container'>\n            <Button basic color='teal' onClick={this.openAddActivityCard}>\n              Add New Activity\n            </Button>\n            {this.state.isAddingNewActivity?\n              <NewActivityCard onCancel={()=>this.setState({isAddingNewActivity: false})}\n              searchThings={this.searchThings} addCustomActicity={this.addCustomActicity}/>\n              : null\n            }\n        </Card.Content>\n      </Card>)\n    }\n}\n","import React, {Component} from 'react'\nimport {Button, Modal, List, Search, Icon} from 'semantic-ui-react'\nimport '../../style/ShareWidget.scss'\nimport _ from 'lodash'\n\nconst dummy = [{name: 'Jack', email: 'jacky@example.com'},{name: 'Mary', email: 'mary@example.com'},{name: 'Amy', email: 'amy@example.com'}]\nexport default class ShareWidget extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      value: '',\n      results: [],\n      listOfUsers: [],\n      matchedResult:[]\n    }\n  }\n  componentDidMount() {\n    //TODO: query all the users here in future\n    this.setState({results: dummy.map(dum => ({...dum, title: dum.name, description: dum.email}))})\n  }\n\n  handleResultSelect = (e, { result }) => {\n    let listOfUsers = [...this.state.listOfUsers]\n    let listOfEmails = listOfUsers.map(user=>user.email)\n    if(listOfEmails.includes(result.email)) { return this.setState({value: ''}) }\n    listOfUsers.push(result)\n    this.setState({listOfUsers})\n    this.resetComponent()\n  }\n\n  resetComponent = () => this.setState({ isLoading: false, matchedResult: [], value: '' })\n\n  handleSearchChange =  (e, { value }) => {\n    console.log(this.state.results)\n    this.setState({ isLoading: true, value })\n    setTimeout(() => {\n      if (this.state.value.length < 1) return this.resetComponent()\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n      const isMatch = result => re.test(result.title)\n\n      this.setState({\n        isLoading: false,\n        matchedResult: _.filter(this.state.results, isMatch),\n      })\n    }, 300)\n  }\n\n  deselectUser = (user) => {\n    let listOfUsers = this.state.listOfUsers\n    _.pull(listOfUsers, user)\n    this.setState({listOfUsers})\n  }\n\n  shareTrip = ()=>{\n    //TODO: add share logic in future\n  }\n\n  render() {\n    let listOfUsers = this.state.listOfUsers.map((user, idx)=>\n      <List.Item key={idx}>\n        <Icon name='close'onClick={()=>this.deselectUser(user)} />\n        <List.Content>\n          <List.Header>{user.name}</List.Header>\n          <List.Description>\n            {user.email}\n          </List.Description>\n        </List.Content>\n      </List.Item>\n    )\n    return (<Modal closeIcon\n      trigger={this.props.trigger}>\n    <Modal.Header>Share Your Trip!</Modal.Header>\n    <Modal.Content>\n      <Modal.Description>\n          <div className='search-bar'>\n            <Search onResultSelect={this.handleResultSelect} loading={this.state.isLoading}\n            onSearchChange={_.debounce(this.handleSearchChange, 500, { leading: true })}\n            value={this.state.value}\n            results={this.state.matchedResult}/>\n             <List divided className='share-list'>\n              {listOfUsers}\n             </List>\n            <Button className='ui button teal' onClick={this.shareTrip}> Share </Button>\n          </div>\n        </Modal.Description>\n    </Modal.Content>\n  </Modal>)\n  }\n}\n","import React, { Component } from 'react'\nimport {Card, Button, Modal, Form} from 'semantic-ui-react'\nimport DateCard from './DateCard'\nimport ShareWidget from '../common/ShareWidget'\nimport '../../style/RoutePlanner.scss'\nimport * as firebaseApi from '../../api/firebaseAuth'\n\n// Only contains daily route\n//parent: CreateTripBody\n// The planner store all the routes\nexport default class RoutePlanner extends Component {\n  constructor(props) {\n    super(props)\n    let originalHotels = new Array(this.props.duration)\n    originalHotels.fill({name: ''})\n    let originalPlans = new Array(this.props.duration).fill(null).map(item =>(new Array(0)))\n    this.state = {\n      isSaved : false,\n      route: originalPlans,\n      hotels: originalHotels,\n      markers: [],\n      mapDay: -1,\n      openLoginModal: false,\n      openSaveModal:false,\n      name: '',\n      description: ''\n    }\n  }\n\n\n  componentDidUpdate(prevProps) {\n    if(!prevProps.newAddedThing && !this.props.newAddedThing) return;\n    if( (!prevProps.newAddedThing && this.props.newAddedThing) ||\n        (prevProps.newAddedThing.day !== this.props.newAddedThing.day ||\n          prevProps.newAddedThing.id !== this.props.newAddedThing.id)) {\n      let newAddedThing = this.props.newAddedThing\n      if (newAddedThing.type !== 'hotel'){\n        let route = [...this.state.route]\n        const {name, geometry, place_id, url} = newAddedThing.thing\n        let geometry_number = {\n          location: {\n            lat: geometry.location.lat(),\n            lng: geometry.location.lng()\n          }\n        }\n        console.log(geometry_number)\n        route[newAddedThing.day].push({name,  place_id, url, location: name, geometry: geometry_number,isPopularActivity: true})\n        if (newAddedThing.day === this.state.mapDay) {\n          let newMarkers = this.refreshMarkers(route[newAddedThing.day], this.state.hotels[newAddedThing.day]);\n          this.setState({route, isSaved: false, markers: newMarkers})\n        } else {\n          this.setState({route, isSaved: false})\n        }\n      }\n      else {\n        let hotels = [...this.state.hotels]\n\n        const {place_id, name, url, geometry} = newAddedThing.thing\n        let geometry_number = {\n          location: {\n            lat: geometry.location.lat(),\n            lng: geometry.location.lng()\n          }\n        }\n        hotels[newAddedThing.day] = {place_id, name, url,geometry: geometry_number, isPublicHotel: true}\n        this.setState({hotels, isSaved: false})\n      }\n    }\n  }\n\n  attemptToSaveTrip = () => {\n    if(!firebaseApi.getCurrentUser()) {\n      this.setState({openLoginModal: true})\n    } else {\n      this.setState({openSaveModal: true})\n      \n    }\n  }\n\n  saveTrip = () => {\n    let dailyRoutes = this.state.route.map((route, index) => (\n        {\n          day: index,\n          hotel: this.state.hotels[index],\n          activities: route,\n        }\n      ))\n    let newTrip = {\n      name: this.state.name,\n      description: this.state.description,\n      routes: dailyRoutes,\n    }\n    this.props.saveTrip(newTrip);\n  }\n\n  setHotel = (hotel, dateIndex) => {\n    let hotels = this.state.hotels\n    hotels[dateIndex] = {name: hotel, isPublicHotel: false}\n    this.setState({hotels})\n  }\n\n  addCustomActicity = (name, day) => {\n    let route = [...this.state.route]\n    route[day].push({name, isPopularActivity: false})\n    this.setState({route, isSaved: false})\n  }\n\n  deleteActivity = (name, day) => {\n    let route = [...this.state.route]\n    route[day] = route[day].filter(acitivity => acitivity.name !== name)\n    if (day === this.state.mapDay) {\n      let newMarkers = this.refreshMarkers(route[day], this.state.hotels[day]);\n      this.setState({route, isSaved: false, markers: newMarkers})\n    } else {\n      this.setState({route, isSaved: false})\n    }\n  }\n\n  updateMap = (day) => {\n    let newMarkers = this.refreshMarkers(this.state.route[day], this.state.hotels[day]);\n    this.setState({markers: newMarkers, mapDay: day});\n    this.props.openModal()\n  }\n\n  refreshMarkers = (activities, hotel) => {\n    let markers = [...this.state.markers];\n    markers.forEach(marker => {\n      marker.setMap(null);\n    });\n\n    let newMarkers = activities.filter(activity => activity.geometry)\n      .map(activity => {\n        console.log(activity.geometry.location)\n        const marker = new window.google.maps.Marker({\n          position: activity.geometry.location,\n          map: this.props.map,\n          title: activity.name\n        });\n        marker.addListener('click', e => {\n          this.createInfoWindow(e, this.props.map, activity);\n        });\n        return marker;\n      });\n    if(hotel.geometry) {\n      newMarkers.push(new window.google.maps.Marker({\n        position: hotel.geometry.location,\n        map: this.props.map,\n        title: hotel.name\n      }))\n    }\n    return newMarkers;\n  }\n\n  createInfoWindow(e, map, activity) {\n    const infoWindow = new window.google.maps.InfoWindow({\n        content: activity.name,\n        position: { lat: e.latLng.lat(), lng: e.latLng.lng() }\n    });\n    infoWindow.open(map);\n  }\n\n  handleTripAttrsChange = (e, {name, value}) => this.setState({ [name]: value })\n\n  render() {\n    // need to set the key like this so that we rerender the new date card everytime there is a new activity added\n    let dateCards = this.state.route.map((activities, idx) =>\n    <DateCard activities={activities} key={idx} index={idx} hotel={this.state.hotels[idx]}\n     searchThings={this.props.searchThings} setHotel={this.setHotel} addCustomActicity={this.addCustomActicity}\n     deleteActivity={this.deleteActivity} updateMap={this.updateMap}/>)\n    \n    let triggerButton = (<Button content='Share Your Trip' className='share-button' color='teal'/>);\n\n\n    return (\n      <div className='route-planner-container'>\n        <Card.Group>\n          {dateCards}\n        </Card.Group>\n        <div className='save-share-buttons'>\n          <Button content=\"Save\" className='save-button' onClick={this.attemptToSaveTrip} color='teal'/>\n        </div>\n        <Modal open={this.state.openLoginModal} onClose={()=>this.setState({openLoginModal: false})}closeIcon>\n          <Modal.Description>\n            <div className='model-content'>Login before you share!</div>\n          </Modal.Description>\n        </Modal>\n        <Modal open={this.state.openSaveModal} onClose={()=>this.setState({openSaveModal: false})}closeIcon>\n          <Modal.Description>\n            <Form onSubmit={this.saveTrip}>\n              <Form.Input required fluid label='Trip name' placeholder='My Awesome Trip' \n                onChange={this.handleTripAttrsChange}\n                name=\"name\"\n                value={this.state.name}\n              />\n              <Form.TextArea label='Description' placeholder='The trip with family...' \n                onChange={this.handleTripAttrsChange}\n                name=\"description\"\n                value={this.state.description}\n              />\n              <Form.Button onClick={()=>this.setState({openSaveModal: false})} >Cancel</Form.Button>\n              <Form.Button>Submit</Form.Button>\n            </Form>\n          </Modal.Description>\n        </Modal>\n      </div>)\n  }\n}\n","import React, {Component} from 'react';\nimport { Card, Button, Image, Segment, Icon, Header} from 'semantic-ui-react';\nimport '../../style/SearchView.scss';\n\n// Parent: CreateTripBody\nexport default class SearchView extends Component {\n\n  componentDidMount() {\n    console.log(this.props.searchResult)\n  }\n\n  render() {\n    if (!this.props.searchResult.length) {\n      return (<Segment placeholder>\n          <Header icon>\n            <Icon name='search' />\n              The places searched from right panel will show up here\n          </Header>\n        </Segment>)\n    }\n    let listOfResults = this.props.searchResult.map(result=>\n      <SearchResultCard addToBoard={result=>this.props.addToBoard(result)}\n    result={result} key={result.id} service={this.props.service}/>)\n\n    return (<div className='search-view-container'>\n        <h2>\n          Day {this.props.day+1}\n        </h2>\n        <h4>\n          <span className='keywords'> keywords: {this.props.keyword}</span>\n          <span> type: {this.props.type} </span>\n        </h4>\n        {listOfResults}\n    </div>)\n  }\n}\n\nclass SearchResultCard extends Component {\n  render() {\n    return (\n      <Card className='search-result'>\n        <Card.Content>\n          {this.props.result.photos ?\n            <Image floated='right' size='mini' src={this.props.result.photos[0].getUrl({maxWidth: 400, maxHeight: 400})}/> :\n            <Icon name='image'/>\n          }\n          <Card.Header><a href={this.props.result.url} target=\"_blank\">{this.props.result.name}</a></Card.Header>\n          <Card.Meta>Location: {this.props.result.formatted_address}</Card.Meta>\n          <Button color='teal' onClick={()=>this.props.addToBoard(this.props.result)}> Add </Button>\n        </Card.Content>\n      </Card>)\n  }\n}\n","import axios from 'axios'\n\n\nexport function createNewTrip(trip) {\n\tdummyTrips.push(trip)\n\tconsole.log(trip)\n\treturn new Promise((resolve) => {\n\t\tresolve(dummyTrips.length-1)\n\t})\n}\n\nexport function getTrips(){\n\treturn new Promise((resolve) => {\n\t\tresolve(dummyTrips)\n\t})\n}\n\n\nexport function getTripById(tripId) {\n\tlet tripIndex = 0\n\treturn new Promise((resolve) => {\n\t\tresolve(dummyTrips[tripId])\n\t})\n}\n\nvar dummyTrips = [\n      {\n       id: 1,\n       startDate: \"2018-12-16T03:24:00\",\n       duration: 3,\n       routes: [{\n\t       \t\t   day: 0,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'sleep',\n       \t\t       \t\tlocation: 'union',\n       \t\t       \t\tisPopularActivity: false,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.119661, lng: -88.242426}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'walk',\n       \t\t       \t\tlocation: 'quad',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\tgeometry:{location: {lat: 40.107677, lng: -88.227220}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'home'\n       \t\t       }\n\t       \t\t},\n\t       \t\t{\n\t       \t\t   day: 1,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'eat',\n       \t\t       \t\tlocation: 'black dog',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.118222, lng: -88.240011}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'play frisbee',\n       \t\t       \t\tlocation: 'japan house',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.093110, lng: -88.217941}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'union'\n       \t\t       }\n\t       \t\t}],\n       owner: 1,\n       shared: [2,3],\n       city:{\n       \tname: \"city\",\n       \tlocation: {\n       \t\tlat: 40.1164204,\n       \t\tlng: -88.24338290000003\n       \t}\n       }, \n       description: \"A trip with family and dogs and cats and birds and bananas!!!\",\n       name: 'Thanksgiving Trip'\n      },\n       {\n       id: 2,\n       startDate: \"2019-12-16T03:24:00\",\n       duration: 2,\n       routes: [{\n\t       \t\t   day: 0,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'sleep',\n       \t\t       \t\tlocation: 'union',\n       \t\t       \t\tisPopularActivity: false,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.119661, lng: -88.242426}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'walk',\n       \t\t       \t\tlocation: 'quad',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.107677, lng: -88.227220}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'home'\n       \t\t       }\n\t       \t\t},\n\t       \t\t{\n\t       \t\t   day: 1,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'eat',\n       \t\t       \t\tlocation: 'black dog',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.118222, lng: -88.240011}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'play frisbee',\n       \t\t       \t\tlocation: 'japan house',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.093110, lng: -88.217941}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'union'\n       \t\t       }\n\t       \t\t}\n       ],\n       owner: 1,\n       shared: [2,3],\n       city:{\n       \tname: \"city\",\n       \tlocation: {\n       \t\tlat: 40.1164204,\n       \t\tlng: -88.24338290000003\n       \t}\n       },\n       description: \"A trip with family and dogs and cats and birds and bananas!!!\",\n       name: 'Christmas Trip'\n      },\n       {\n       id: 3,\n       startDate: \"2016-12-06T03:24:00\",\n       duration: 6,\n       routes: [{\n\t       \t\t   day: 0,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'sleep',\n       \t\t       \t\tlocation: 'union',\n       \t\t       \t\tisPopularActivity: false,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.119661, lng: -88.242426}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'walk',\n       \t\t       \t\tlocation: 'quad',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.107677, lng: -88.227220}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'home'\n       \t\t       }\n\t       \t\t},\n\t       \t\t{\n\t       \t\t   day: 1,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'eat',\n       \t\t       \t\tlocation: 'black dog',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.118222, lng: -88.240011}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'play frisbee',\n       \t\t       \t\tlocation: 'japan house',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.093110, lng: -88.217941}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'union'\n       \t\t       }\n\t       \t\t}\n       ],\n       owner: 1,\n       shared: [2,3],\n       city:{\n       \tname: \"city\",\n       \tlocation: {\n       \t\tlat: 40.1164204,\n       \t\tlng: -88.24338290000003\n       \t}\n       },\n       description: \"A trip with family and dogs and cats and birds and bananas!!!\",\n       name: 'December Trip'\n      },\n       {\n       id: 4,\n       startDate: \"2019-06-23T03:24:00\",\n       duration: 8,\n       routes: [{\n\t       \t\t   day: 0,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'sleep',\n       \t\t       \t\tlocation: 'union',\n       \t\t       \t\tisPopularActivity: false,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.119661, lng: -88.242426}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'walk',\n       \t\t       \t\tlocation: 'quad',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.107677, lng: -88.227220}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'home'\n       \t\t       }\n\t       \t\t},\n\t       \t\t{\n\t       \t\t   day: 1,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'eat',\n       \t\t       \t\tlocation: 'black dog',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.118222, lng: -88.240011}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'play frisbee',\n       \t\t       \t\tlocation: 'japan house',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.093110, lng: -88.217941}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'union'\n       \t\t       }\n\t       \t\t}\n       ],\n       owner: 1,\n       shared: [2,3],\n       city:{\n       \tname: \"city\",\n       \tlocation: {\n       \t\tlat: 40.1164204,\n       \t\tlng: -88.24338290000003\n       \t}\n       },\n       description: \"A trip with family and dogs and cats and birds and bananas!!!\",\n       name: 'Winter Break Trip'\n      },\n    ]","var currentUserId = 1; // need to populate from data base \n\nexport function getCurrentUserId() {\n\treturn currentUserId;\n}","import React, { Component } from 'react'\nimport { Icon} from 'semantic-ui-react'\nimport NavBar from '../common/NavBar'\nimport RoutePlanner from './RoutePlanner'\nimport SearchView from './SearchView'\nimport '../../style/CreateTrip.scss'\nimport { Redirect, Link } from 'react-router-dom'\nimport { createNewTrip } from '../../api/trip'\nimport { getCurrentUserId } from '../../api/user'\n/*global google*/\n\n// This component only contains route planner and search view\nclass CreateTripBody extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      searchKeyword: '',\n      type: '', //['hotel', 'attraction', 'food']\n      searchResult: [],\n      day: null,\n      newAddedThing: null,\n      city: this.props.city,\n      isModalOpen: false\n    }\n  }\n\n  componentDidMount() {\n    let mapElement = document.getElementById('map')\n    this.map = new google.maps.Map(mapElement, {\n      center: this.props.cityLocation,\n      zoom: 10\n    });\n    this.service = new google.maps.places.PlacesService(this.map);\n    // Get the modal\n    var modal = document.getElementById('myModal');\n\n    // When the user clicks anywhere outside of the modal, close it\n    window.onclick = function(event) {\n      if (event.target === modal) {\n        this.state.setState({isModalOpen: false})\n      }\n    }\n  }\n\n  addToBoard = newActivity => {\n    let newResult = {day: this.state.day, thing: newActivity, id: newActivity.id ,type: this.state.type}\n    this.setState({newAddedThing: newResult})\n  }\n\n  searchThings = (searchKeyword, type, day) => {\n      // TODO: make api call to do search, and set searchResult with results from api\n      this.setState({day, type, searchKeyword})\n      const city = this.state.city.toLowerCase();\n      let searchType = ''\n      switch (searchType) {\n        case \"hotel\":\n          searchType = \"lodging\"\n          break;\n        case \"food\":\n          searchType = \"food\"\n          break;\n        default:\n          searchType = \"point_of_interest\"\n      }\n      const request = {query: `${city}+${searchKeyword}+${type}`}\n      this.service.textSearch(request, (results, status) => {\n        if (status === google.maps.places.PlacesServiceStatus.OK) {\n          this.setState({searchResult: results.map(result=>({...result, id: result.place_id,\n             url: `https://www.google.com/maps/search/?api=1&query=${result.formatted_address}&query_place_id=${result.place_id}`}))})\n        }\n      });\n  }\n\n  openModal = () => {\n    this.setState({isModalOpen: true})\n  }\n\n\n  saveTrip = (newTrip) => {\n    newTrip = Object.assign(newTrip, {\n      startDate: this.props.startDate,\n      duration: this.props.duration,\n      city: {name: this.props.city, location: this.props.cityLocation},\n      owner: getCurrentUserId(),\n      shared: []\n    })\n    createNewTrip(newTrip)\n      .then((newTripId) => {\n        this.props.jumpReview(newTripId)\n      })\n    \n  }\n\n  render() {\n    return (\n      <div className='create-trip-planner'>\n        <RoutePlanner searchThings={this.searchThings} newAddedThing={this.state.newAddedThing}\n          duration={this.props.duration} map={this.map} openModal={this.openModal} saveTrip={this.saveTrip}/>\n        <SearchView addToBoard={this.addToBoard} searchResult={this.state.searchResult} service={this.service}\n          keyword={this.state.searchKeyword} day={this.state.day} type={this.state.type}/>\n        <div className={`${this.state.isModalOpen? \"openModal\": \"closeModal\"} map-modal`}>\n          <div className=\"modal-content\">\n            <Icon className=\"close-btn\" name='close' onClick={()=>this.setState({isModalOpen: false})} />\n            <div id=\"map\"></div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n\n\n// This is the whole screen of adding trip including navbar and background\nexport default class CreateTrip extends Component {\n\n  render() {\n    let startDate = this.props.location.state.startDate || new Date()\n    let endDate = new Date(startDate)\n    let duration = parseInt(this.props.location.state.duration)||3\n    endDate.setDate(endDate.getDate() + duration)\n\n    return (<div className='container'>\n      <NavBar history={this.props.history}/>\n      <div className='background'>\n        <div className='title'>\n          <h2> {this.props.location.state.cityQuery || 'Chicago'} </h2>\n          <span> {`${startDate.toDateString()}-${endDate.toDateString()}`} </span>\n        </div>\n      </div>\n      <CreateTripBody\n        startDate={startDate}\n        duration={duration}\n        city={this.props.location.state.cityQuery || 'Chicago'}\n        cityLocation={this.props.location.state.cityLocation}\n        jumpReview={(tripId) => {this.props.history.push(`/trip-planner/review/${tripId}`)}}\n      />\n    </div>)\n  }\n}\n","import React, { Component } from 'react'\nimport { Card, Button} from 'semantic-ui-react'\nimport '../../style/TripCard.scss'\nimport PropTypes from 'prop-types';\n\n// This component contains activities added to route planner\nexport default class TripCard extends Component {\n  constructor(props) {\n    super(props)\n    this.state={\n      location: '',\n      date: '',\n      description: '',\n      isDeleting: false,\n      detailViewLink: '',\n      name: ''\n    }\n  }\n\n  componentDidMount(){\n    this.setState({location: this.props.city.name, startDate: this.props.startDate, description: this.props.description, \n      isDeleting: this.props.isDeleting, detailViewLink: this.props.detailViewLink, name: this.props.name,\n      duration: this.props.duration\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    if(prevProps != this.props){\n      this.setState({location: this.props.city.name, startDate: this.props.startDate, description: this.props.description, \n      isDeleting: this.props.isDeleting, detailViewLink: this.props.detailViewLink, name: this.props.name,\n      duration: this.props.duration\n    })\n    }\n  }\n  deleteTrip = () => {\n    this.props.onDeleteTrip()\n  }\n\n  render() {\n    let startDate = new Date(Date.parse(this.state.startDate));\n    let endDate = new Date(startDate.setDate(startDate.getDate() + this.state.duration));\n    \n    return (\n          <Card className='trip-card-container' href={this.state.detailViewLink}>\n            <Card.Content>\n              <Card.Header>{this.state.location}</Card.Header>\n              <Card.Meta>{`${startDate.toLocaleDateString()}-${endDate.toLocaleDateString()}\\tDuration: ${this.state.duration}`}</Card.Meta>\n              <Card.Description>{this.state.description}</Card.Description>\n             </Card.Content>\n             {this.state.isDeleting ? \n              <Card.Content extra>\n                <Button onClick={this.deleteTrip} color='red'>Delete Trip</Button>\n              </Card.Content> :\n              null\n             }\n              \n          </Card>\n    )\n  }\n}\n\nTripCard.propTypes = {\n  city: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    location: PropTypes.object.isRequired,\n  }).isRequired,\n  startDate: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  detailViewLink: PropTypes.string,\n  duration: PropTypes.number.isRequired,\n  onDeleteTrip: PropTypes.func,\n  name: PropTypes.string.isRequired,\n}\n","import React, { Component } from 'react'\nimport { Card } from 'semantic-ui-react'\nimport TripCard from './TripCard'\nimport '../../style/TripList.scss'\n\nexport default class TripList extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state={\n\t\t\tdetailViewType: this.props.detailViewType || 'owner',\n\t\t\tready: false,\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif(prevProps.trips != this.props.trips)\n\t\tthis.setState({\n\t\t\ttrips: this.props.trips,\n\t\t\tready: true\n\t\t})\n\t}\n\n\tdeleteTrip = (id) => {\n\t\tlet trips = this.state.trips.filter((trip) => (trip['id'] != id))\n\t\tthis.setState({\n\t\t\ttrips\n\t\t})\n\t}\n\n\trender(){\n\t\tif(this.state.ready){\n\t\t\tlet detailViewLink = `/trip-planner/review`\n\t\t\tlet tripCards = this.state.trips.map((trip) => (\n\t\t\t\t<TripCard \n\t\t\t\tkey={trip.id}\n\t\t\t\t{...trip}\n\t\t\t\tdetailViewLink={`${detailViewLink}/${trip.id}`}\n\t\t\t\tonDeleteTrip={()=>{this.deleteTrip(trip.id)}}\n\t\t\t\t/>))\n\t\t\treturn (\n\t\t\t\t<Card.Group>\n\t\t\t\t\t{tripCards}\n\t\t\t\t</Card.Group>\n\t\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div>Loading...</div>\n\n\t\t\t\t)\n\t\t}\n\t\t\n\t}\n}\n\nTripList.defaultProps = {\n\ttrips: []\n}","import React, { Component } from 'react'\nimport { Header } from 'semantic-ui-react'\nimport  TripList  from './TripList'\nimport '../../style/ReviewView.scss'\n\nexport default class ReviewView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t}\n\n\thasDatePast = (date) => {\n\t\tlet today = Date.now()\n\t\treturn new Date(date) < today\n\t}\n\n\trender() {\n\t\tconst upcomingTrips = this.props.trips.filter((trip) => (this.hasDatePast(trip.startDate)))\n\t\tconst pastTrips = this.props.trips.filter((trip) => (!this.hasDatePast(trip.startDate)))\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"review-trip-list\">\n\t\t\t\t<Header as='h2' content= 'Upcoming Trips' className=\"subheader\" />\n\t\t\t\t\t<TripList trips={upcomingTrips} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"review-trip-list\">\n\t\t\t\t<Header as='h2' content= 'Past Trips' className=\"subheader\" />\n\t\t\t\t\t<TripList trips={pastTrips} detailViewType=\"other\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t)\n\t}\n}","import React, { Component } from 'react'\n// import { Menu, Modal, Button, Header, Icon, Input} from 'semantic-ui-react'\nimport NavBar from '../common/NavBar'\nimport ReviewView from './ReviewView'\nimport '../../style/ReviewTrip.scss'\nimport { getTrips } from '../../api/trip'\n/*global google*/\n\n// This component only contains route planner and search view\nclass ReviewTripBody extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      trips: [],\n      ready: false,\n    }\n  }\n\n\n  componentDidMount() {\n    getTrips()\n    .then((trips) => {\n       this.setState({\n        trips,\n        ready: true\n      })\n    })\n   \n  }\n//\n\n  render() {\n    return (\n      <div className='review-trip-body'>\n        <ReviewView trips={this.state.trips}/>\n      </div>\n    )\n  }\n}\n\n// This is the whole screen of adding trip including navbar and background\nexport default class ReviewTrip extends Component {\n  render() {\n    return (\n      <div className='review-trip-container'>\n        <NavBar/>\n        <ReviewTripBody/>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Card, Image, Input, Button} from 'semantic-ui-react'\nimport '../../style/ActivityCard.scss'\n\n// This component contains activities added to route planner\nexport default class ActivityCard extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state={\n      name: '',\n      location: '',\n      isPopularActivity: true,\n    }\n  }\n\n  componentDidMount() {\n    this.setState({name: this.props.name, location: this.props.location, isPopularActivity: this.props.isPopularActivity})\n  }\n\n  render() {\n    return (\n      <Card className='activity-container'>\n        <Card.Content>\n          <Card.Header>{this.props.name}</Card.Header>\n          <Card.Meta>{this.props.location? `Location: ${this.props.location}`: 'Personal Activity'}</Card.Meta>\n        </Card.Content>\n      </Card>\n    )\n    }\n  \n}\n","import React, { Component } from 'react'\nimport { Card, Header, Icon} from 'semantic-ui-react'\nimport '../../style/RoutePlanner.scss'\nimport ActivityCard from './ActivityCard'\n\n// Contains attractions for each day, receive a list of activities to populate the route\n// parent: RoutePlanner\nexport default class DateCard extends Component {\n\n    constructor(props) {\n      super(props)\n\n      this.state={\n        hotel: null,\n        ready: false\n       }\n    }\n\n    componentDidMount() {\n      this.setState({\n        activities: this.props.activities,\n        hotel: this.props.hotel,\n        ready: true\n      })\n    }\n\n    // componentDidUpdate(prevProps, prevState) {\n    //   if(prevProps.hotel.name !== this.props.hotel.name) {\n    //     this.setState({hotel: this.props.hotel})\n    //   } else if(this.state.isAddingNewActivity && this.props.activities.length !== prevProps.activities.length) {\n    //     this.setState({isAddingNewActivity: false, activities: this.props.activities})\n    //   }\n    // }\n\n    render() {\n      if(!this.state.ready){\n        return (<div>Loading...</div>)\n      }\n      console.log(this.state.activities)\n      let listOfActivities = this.state.activities.map(activity => <ActivityCard key={activity.name} {...activity} />)\n      return (\n        <Card className='day-container'>\n        <Card.Content>\n          <Card.Header>Day {this.props.index+1}</Card.Header>\n          <Header.Content>\n            <div className='hotel-container'>\n              <Icon name='hotel' />\n              Staying in\n                <div className='hotel-name'>\n                  <span> {this.state.hotel.name} </span>\n                </div>\n            </div>\n          </Header.Content>\n        </Card.Content>\n        {this.state.activities.length?\n          <Card.Content extra>\n            {listOfActivities}\n          </Card.Content>\n          :null\n        }\n        </Card>\n        )\n  }\n}\n","import React, { Component } from 'react'\nimport {Card, Button, Icon, Modal} from 'semantic-ui-react'\nimport DateCard from './DateCard'\nimport '../../style/RoutePlanner.scss'\nimport * as firebaseApi from '../../api/firebaseAuth'\nimport ShareWidget from '../common/ShareWidget'\n\nexport default class RouteDetail extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      ready: false,\n      openShareModal: false\n    }\n  }\n\n  // componentDidUpdate(prevProps) {\n  //   if(prevProps.id != this.state.id){\n  //     this.setState({\n  //       ...prevProps.trip\n  //     })\n  //   }\n  // }\n\n  jumpEdit = () => {\n\n  }\n\n  openShare = () => {\n    this.setState({openShareModal: true})\n  }\n\n  componentDidMount() {\n    let trip = this.props.trip;\n    this.setState({\n      ...trip,\n      ready: true\n    })\n  }\n\n  render() {\n    // need to set the key like this so that we rerender the new date card everytime there is a new activity added\n    if(this.state.ready){\n      let dateCards = this.state.routes.map((day, idx) => (<DateCard activities={day.activities} key={idx} index={day.day} hotel={day.hotel}/>))\n      let shareIcon =  (<Icon className=\"icon\" name=\"share square\" color='teal' size=\"large\" />)\n      return (\n        <div className=\"route-planner\">\n        <div className=\"title\">\n          <h1> Route Details </h1>\n          <div className=\"icon-group\">\n            <Icon className=\"icon\" name=\"edit\" color='teal' size=\"large\" onClick={this.jumpEdit}/>\n           <ShareWidget trigger={shareIcon}/>\n          </div>\n        </div>\n          <div className='review-route-planner-container'>\n            <Card.Group>\n              {dateCards}\n            </Card.Group>\n          </div>\n          <Modal open={this.state.openShareModal} onClose={()=>this.setState({openShareModal: false})}closeIcon>\n            <Modal.Description>\n              <div className='model-content'>Login before you share!</div>\n            </Modal.Description>\n          </Modal>\n        </div>\n      )\n    }\n     \n    else {\n      return (<div>Loading...</div>)\n    }\n\n  }\n}\n","import React, { Component } from 'react'\nimport RouteDetail from './RouteDetail'\nimport NavBar from '../common/NavBar'\nimport {Divider, Dropdown, Label} from 'semantic-ui-react'\nimport '../../style/ReviewTrip.scss'\nimport { getTripById } from '../../api/trip'\n/*global google*/\n\nexport class TripDetailBody extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state={\n\t\t\tmarkers: [],\n\t\t\ttrip: props.trip,\n\t\t\tselectedDate: -1\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tlet trip = this.state.trip\n\t\tlet mapElement = document.getElementById('map')\n\t\tthis.map = new google.maps.Map(mapElement, {\n\t\t\tcenter: trip.city.location,\n\t\t\tzoom: 10\n\t\t});\n\t\tthis.service = new google.maps.places.PlacesService(this.map);\n\t\tlet markers= this.getListOfMarkers(trip)\n\t\tthis.setState({markers})\n\t\tlet allMarkers = [].concat(...markers);\n\t\tthis.putMarkersOnMap(allMarkers)\n\t}\n\n\tgetListOfMarkers = (trip) => {\n\t\treturn trip.routes.map((dateRoute, idx)=> dateRoute.activities.map(\n\t\t\tactivity=> {\n\t\t\t\tlet marker = new window.google.maps.Marker({\n\t\t\t\t\tposition: activity.geometry.location,\n\t\t\t\t\tmap: null, //TODO: add props.map\n\t\t\t\t\ttitle: activity.name,\n\t\t\t\t\tlabel: (idx+1).toString()\n\t\t\t\t});\n\t\t\t\tmarker.addListener('click', e => {\n\t\t\t\t\tthis.createInfoWindow(e, this.map, activity);\n\t\t\t\t});\n\t\t\t\treturn marker;\n\t\t\t}\n\t\t))\n\t}\n\n\t//called only in componentDidMount\n\tputMarkersOnMap = (markers) => {\n\t\tmarkers.forEach(marker=>marker.setMap(this.map))\n\t}\n\n\tcreateInfoWindow=(e, map, activity)=> {\n\t\tconst infoWindow = new window.google.maps.InfoWindow({\n\t\t\t\tcontent: activity.name,\n\t\t\t\tposition: { lat: e.latLng.lat(), lng: e.latLng.lng() }\n\t\t});\n\t\tinfoWindow.open(map);\n\t}\n\n\tonChangeSelectedDay = (e, data) => {\n\t\tconsole.log(data.value)\n\t\tlet selectedDate = data.value\n\t\tlet markers = [...this.state.markers]\n\t\tif(selectedDate < 0) {\n\t\t\t// all markers are selected\n\t\t\tmarkers.forEach(markersOfADate=>{\n\t\t\t\tmarkersOfADate.forEach(marker=> marker.setMap(this.map))\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tmarkers.forEach((markersOfADate, idx)=>{\n\t\t\t\tif(idx !== selectedDate) markersOfADate.forEach(marker=> marker.setMap(null))\n\t\t\t\telse markersOfADate.forEach(marker=> marker.setMap(this.map))\n\t\t\t})\n\t\t}\n\t\tthis.setState({selectedDate, markers})\n\t}\n\n\n\n\trender() {\n\t\t\tlet dayOptions = [{ key: 'all',  text: 'All dates', value: -1}]\n\t\t\tvar i;\n\t\t\tfor(i=0; i < this.state.trip.routes.length; i++) {\n\t\t\t\tlet realDay = i+1\n\t\t\t\tdayOptions.push({ key: `${i}`,  text: `Day ${realDay}`, value: i})\n\t\t\t}\n\t\t\treturn (\n\t        \t<div className='trip-detail-body'>\n\t        \t\t<RouteDetail className='trip-detail-component' trip={this.state.trip} />\n\t\t\t\t\t\t\t<Divider vertical/>\n\t\t\t\t\t\t\t<div className='map-container'>\n\t\t\t\t\t\t\t\t<div id='map'></div>\n\t\t\t\t\t\t\t\t<span id='dropdown-label'> View places to visit on </span>\n\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tplaceholder='Select a Special Day' options={dayOptions}\tdefaultValue={dayOptions[0].value}\n\t\t\t\t\t\t\t\tonChange={this.onChangeSelectedDay}/>\n\t\t\t\t\t\t\t</div>\n\t      \t\t</div>\n\t\t\t)\n\t}\n}\n\n\nexport default class TripDetail extends Component {\n\n// getTrip = (id) => {\n// \t\treturn {\n// \t       id: 2,\n// \t       startDate: \"2019-12-16T03:24:00\",\n// \t       duration: 2,\n// \t       route: [\n// \t       \t\t{\n// \t       \t\t   day: 0,\n//        \t\t       activities:[\n//        \t\t       {\n//        \t\t       \t\tname: 'sleep',\n//        \t\t       \t\tlocation: 'union',\n//        \t\t       \t\tisPopularActivity: false,\n// \t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.119661, lng: -88.242426}}\n//        \t\t       \t},\n//        \t\t       \t{\n//        \t\t       \t\tname: 'walk',\n//        \t\t       \t\tlocation: 'quad',\n//        \t\t       \t\tisPopularActivity: true,\n// \t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.107677, lng: -88.227220}}\n//        \t\t       \t},\n//        \t\t       ],\n//        \t\t       hotel: {\n//        \t\t       \tname: 'home'\n//        \t\t       }\n// \t       \t\t},\n// \t       \t\t{\n// \t       \t\t   day: 1,\n//        \t\t       activities:[\n//        \t\t       {\n//        \t\t       \t\tname: 'eat',\n//        \t\t       \t\tlocation: 'black dog',\n//        \t\t       \t\tisPopularActivity: true,\n// \t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.118222, lng: -88.240011}}\n//        \t\t       \t},\n//        \t\t       \t{\n//        \t\t       \t\tname: 'play frisbee',\n//        \t\t       \t\tlocation: 'japan house',\n//        \t\t       \t\tisPopularActivity: true,\n// \t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.093110, lng: -88.217941}}\n//        \t\t       \t},\n//        \t\t       ],\n//        \t\t       hotel: {\n//        \t\t       \tname: 'union'\n//        \t\t       }\n// \t       \t\t}\n\n// \t       ],\n// \t       owner: 1,\n// \t       shared: [2,3],\n// \t       location: 'Champaign',\n// \t\t\t\t cityLocation: {lat: 40.1179, lng:-88.2293},\n// \t       description: \"A trip with family and dogs and cats and birds and bananas!!!\",\n// \t       name: 'Christmas Trip'\n// \t      }\n// \t}\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tready: false\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tlet { id } = this.props.match.params\n\t\tgetTripById(id)\n\t\t\t.then((trip) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttrip,\n\t\t\t\t\tready: true\n\t\t\t\t})\n\t\t\t})\n\t\t\n\t}\n\n\n\trender() {\n\t\tif(this.state.ready){\n\t\t\tlet trip = this.state.trip;\n\t\t\tlet startDate = new Date(Date.parse(trip.startDate));\n    \tlet endDate = new Date(startDate.setDate(startDate.getDate() + trip.duration));\n\t\t\treturn (\n\t\t\t<div className='container'>\n\t        \t<NavBar/>\n\t        \t<div className='background'>\n\t\t\t        <div className='title'>\n\t\t\t          <h2> {trip.name} </h2>\n\t\t\t          <span> {`${startDate.toLocaleDateString()}-${endDate.toLocaleDateString()}`} </span>\n\t\t\t          <span> {`${trip.city.name}`}</span>\n\t\t\t          <h6><i>{trip.description}</i></h6>\n\t\t\t        </div>\n\t\t\t\t\t\t</div>\n\t        \t<TripDetailBody trip={this.state.trip}/>\n\t     </div>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (<div> Loading... </div>)\n\t\t}\n\t}\n}\n","import React, {Component} from 'react'\nimport { Button, Input, Header} from 'semantic-ui-react'\nimport NavBar from '../common/NavBar'\nimport {resetPassword, getCurrentUser} from '../../api/firebaseAuth.js'\nimport '../../style/Profile.scss'\n\n\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editName: '',\n      isEditing: false,\n      email: ''\n    }\n  }\n\n  componentDidMount() {\n    let user = getCurrentUser()\n    let name = 'Zifei' //TODO: getUserNameByUID\n    if(!user) return this.props.history.push('/trip-planner')\n    this.setState({editName: name, email: user.email })\n  }\n\n\n  toggleEdit = () =>{\n      this.setState({isEditing: !this.state.isEditing})\n  }\n\n  onNameChange = event => {\n    this.setState({editName: event.target.value})\n  }\n\n  resetPassword = () => {\n    resetPassword(this.props.email).then(result => {\n      alert('An email has been sent to ' + this.state.email)\n    })\n  }\n\n  render() {\n    return (<div>\n      <NavBar history={this.props.history}/>\n      <div className='profile-container'>\n      <Header> Profile </Header>\n      <div>Name</div>\n      <Input value={this.state.editName} disabled={!this.state.isEditing} onChange={this.onNameChange}\n      action={{color: 'teal', icon: this.state.isEditing?'check':'pencil', onClick:this.toggleEdit}} />\n      <div> Email </div>\n      <Input value={this.state.email} disabled={true}/>\n      <Button onClick={this.resetPassword} color='teal'>Reset Password</Button>\n      </div>\n    </div>)\n  }\n\n}\n","import React, { Component } from 'react';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\nimport 'semantic-ui-css/semantic.min.css';\n\n// Include your new Components here\nimport Home from './Home.jsx';\nimport CreateTrip from '../Create/CreateTrip.js'\nimport ReviewTrip from '../Review/ReviewTrip.js'\nimport TripDetail from '../ReviewDetail/TripDetail.js'\nimport Profile from '../Profile/Profile.js'\n\nimport '../../style/App.module.scss'\n\nclass App extends Component {\n  render() {\n    return (\n        <Router>\n          <Switch>\n              <Route exact path=\"/trip-planner\" component={Home}/>\n              <Route exact path=\"/trip-planner/create\" component={CreateTrip} />\n              <Route exact path=\"/trip-planner/review\" component={ReviewTrip} />\n              <Route exact path=\"/trip-planner/review/:id\" component={TripDetail} />\n              <Route exact path=\"/trip-planner/profile\" component={Profile} />\n          </Switch>\n        </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}