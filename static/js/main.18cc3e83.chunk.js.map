{"version":3,"sources":["firebase.js","api/firebaseAuth.js","components/common/NavBar.js","components/App/CitySearch.js","components/App/Home.jsx","components/common/SearchInput.js","components/Create/ActivityCard.js","components/common/SelectionButtons.js","components/Create/NewActivityCard.js","components/Create/DateCard.js","components/common/ShareWidget.js","components/Create/RoutePlanner.js","components/Create/SearchView.js","api/trip.js","api/user.js","components/Create/CreateTrip.js","components/Review/TripCard.js","components/Review/TripList.js","components/Review/ReviewView.js","components/Review/ReviewTrip.js","components/ReviewDetail/ActivityCard.js","components/ReviewDetail/DateCard.js","components/ReviewDetail/RouteDetail.js","components/ReviewDetail/TripDetail.js","components/Profile/Profile.js","components/App/App.js","serviceWorker.js","index.js"],"names":["fbAuth","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","auth","getCurrentUser","currentUser","NavBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","hasLogin","firebaseApi","setState","objectSpread","name","getEmail","logout","signOut","then","history","push","state","react_default","a","createElement","Menu","className","fixed","Item","link","position","Link","to","Dropdown","text","concat","item","onClick","NavBar_ModelLoginAndRegister","status","Component","ModelLoginAndRegister","_this2","login","userEmail","userPassword","email","loginPassword","signInWithEmailAndPassword","data","user","catch","error","console","log","toString","result","register","registerPassword","createUserWithEmailAndPassword","axios","post","registerName","response","_this3","Modal","trigger","closeIcon","Header","Content","Description","Input","icon","placeholder","type","value","onChange","event","target","Button","CitySearch","handlePlaceSelect","addressObject","autocomplete","getPlace","address","address_components","onSelect","long_name","formatted_address","lat","geometry","location","lng","google","maps","places","Autocomplete","document","getElementById","types","addListener","id","query","iconPosition","Home","changeDestination","destination","changeDate","date","startDate","createTrip","setCitySearchResult","city","cityQuery","cityLocation","changeCitySearch","Date","duration","NavBar_NavBar","App_CitySearch","es","selected","label","SearchInput","action","color","searchOnClick","ActivityCard","toggleEditView","isEditing","deleteActivity","isPopularActivity","Card","Image","floated","size","src","Meta","href","url","SelectionButtons","Group","selectOption1","onToggle","option1","Or","option2","NewActivityCard","addCustomActicity","isSearchingPopular","customActivity","searchAttraction","searchFood","isSearchingAttraction","fluid","searchThings","onCancel","DateCard","switchHotel","isSearchingHotel","openAddActivityCard","isAddingNewActivity","keyword","index","editHotel","hotel","searchHotel","setCustomHotel","hotelName","customHotel","setHotel","updateMap","activities","prevProps","prevState","length","listOfActivities","map","activity","ActivityCard_ActivityCard","assign","key","Icon","content","extra","basic","NewActivityCard_NewActivityCard","dummy","ShareWidget","handleResultSelect","e","_ref","listOfUsers","toConsumableArray","includes","resetComponent","isLoading","matchedResult","handleSearchChange","_ref2","results","setTimeout","re","RegExp","_","escapeRegExp","filter","test","title","deselectUser","pull","shareTrip","dum","description","idx","List","Search","onResultSelect","loading","onSearchChange","debounce","leading","divided","RoutePlanner","attemptToSaveTrip","openSaveModal","openLoginModal","saveTrip","dailyRoutes","route","day","hotels","newTrip","routes","dateIndex","isPublicHotel","isSaved","acitivity","mapDay","newMarkers","refreshMarkers","markers","openModal","forEach","marker","setMap","window","Marker","createInfoWindow","handleTripAttrsChange","defineProperty","originalHotels","Array","fill","originalPlans","newAddedThing","_newAddedThing$thing","thing","place_id","geometry_number","_newAddedThing$thing2","InfoWindow","latLng","open","dateCards","DateCard_DateCard","onClose","Form","onSubmit","required","TextArea","SearchView","searchResult","Segment","listOfResults","SearchView_SearchResultCard","addToBoard","service","SearchResultCard","photos","getUrl","maxWidth","maxHeight","dummyTrips","owner","shared","currentUserId","CreateTripBody","newActivity","newResult","searchKeyword","toLowerCase","searchType","request","textSearch","PlacesServiceStatus","OK","isModalOpen","trip","Promise","resolve","newTripId","jumpReview","mapElement","Map","center","zoom","PlacesService","modal","onclick","RoutePlanner_RoutePlanner","SearchView_SearchView","CreateTrip","endDate","parseInt","setDate","getDate","toDateString","CreateTrip_CreateTripBody","tripId","TripCard","deleteTrip","onDeleteTrip","isDeleting","detailViewLink","parse","toLocaleDateString","TripList","trips","detailViewType","ready","tripCards","TripCard_TripCard","defaultProps","ReviewView","hasDatePast","today","now","upcomingTrips","pastTrips","as","TripList_TripList","ReviewTripBody","ReviewView_ReviewView","ReviewTrip","ReviewTrip_ReviewTripBody","ReviewDetail_ActivityCard_ActivityCard","RouteDetail","jumpEdit","openShare","openShareModal","ReviewDetail_DateCard_DateCard","shareIcon","ShareWidget_ShareWidget","TripDetailBody","_Component","getListOfMarkers","dateRoute","putMarkersOnMap","onChangeSelectedDay","selectedDate","markersOfADate","inherits","createClass","allMarkers","apply","i","dayOptions","realDay","RouteDetail_RouteDetail","Divider","vertical","options","defaultValue","TripDetail","match","params","TripDetail_TripDetailBody","Profile","toggleEdit","onNameChange","editName","resetPassword","sendPasswordResetEmail","alert","disabled","App","BrowserRouter","Switch","Route","exact","path","component","Boolean","hostname","ReactDOM","render","components_App_App","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.18cc3e83.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/auth';\nvar config = { /* COPY THE ACTUAL CONFIG FROM FIREBASE CONSOLE */\n  apiKey: \"AIzaSyA6GoLwhUzLcRguPqu8S2KLROMg67w4eT0\",\n  authDomain: \"cs498rk-239014.firebaseapp.com\",\n  databaseURL: \"https://cs498rk-239014.firebaseio.com\",\n  projectId: \"cs498rk-239014\",\n  storageBucket: \"cs498rk-239014.appspot.com\",\n  messagingSenderId: \"1053708047986\"\n};\nvar fire = firebase.initializeApp(config);\nvar fbAuth = fire.auth();\nexport {fire,\n  fbAuth\n}\n","import { fbAuth} from '../firebase.js'\n\nexport function getCurrentUser() {\n  return fbAuth.currentUser;\n}\n\nexport function login(userEmail, userPassword) {\n    return fbAuth.signInWithEmailAndPassword(userEmail, userPassword)\n      .then((data) => ({user: data['user']}))\n      .catch(function(error) {\n      \tconsole.log(error)\n       \treturn {error: error.toString()};\n    });\n}\n\n\nexport function register( userEmail, userPassword ) {\n  return fbAuth.createUserWithEmailAndPassword(userEmail, userPassword)\n      .then(function(data) {\n        if(data['user']) {\n          return {user: data['user']}\n        }\n      })\n      .catch(function(error) {\n        return {user: null, error: error.toString()};\n      })\n}\n\nexport function logout() {\n  return fbAuth.signOut()\n}\n\nexport function resetPassword(email) {\n  return fbAuth.sendPasswordResetEmail(email)\n}\n","import React, { Component } from 'react'\nimport { Menu, Modal, Button, Input, Dropdown} from 'semantic-ui-react'\nimport { Link } from 'react-router-dom'\nimport * as firebaseApi from '../../api/firebaseAuth'\nimport '../../style/NavBar.scss'\nimport axios from 'axios';\n\nexport default class NavBar extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      currentUser: firebaseApi.getCurrentUser()\n    }\n  }\n\n  componentDidMount() {\n    let currentUser = firebaseApi.getCurrentUser()\n    if(currentUser) {\n      this.setState({currentUser: {...currentUser, name: currentUser.getEmail()}})\n    }\n  }\n\n  hasLogin = () => {\n    let currentUser = firebaseApi.getCurrentUser()\n    this.setState({currentUser: {...currentUser, name: currentUser.getEmail()}}) // TODO: call backend api to get user basic information\n  }\n\n  logout = () => {\n    firebaseApi.logout().then(() => {\n      this.setState({currentUser: null})\n      this.props.history.push(`/trip-planner`)\n    })\n  }\n\n  render() {\n    // TODO: add link to dropdown.item\n    return (\n      <Menu className='navbar' fixed='top'>\n        <Menu.Item link position='left'> <Link to='/trip-planner'>Trip Planner</Link></Menu.Item>\n        {!this.state.currentUser?null\n        :\n        <Menu.Menu position='right'>\n          <Dropdown text={`Hi, ${this.state.currentUser.name}`}item>\n            <Dropdown.Menu>\n              <Dropdown.Item>My Trips</Dropdown.Item>\n              <Dropdown.Item><Link to='/trip-planner/profile'>Profile</Link></Dropdown.Item>\n              <Dropdown.Item onClick={this.logout}>Logout</Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n        </Menu.Menu>\n        }\n        {!this.state.currentUser? <Menu.Item link> <ModelLoginAndRegister status='Login' hasLogin={this.hasLogin}/> </Menu.Item>: null}\n        {!this.state.currentUser? <Menu.Item link> <ModelLoginAndRegister status='Register' hasLogin={this.hasLogin}/> </Menu.Item>:null}\n      </Menu>\n    )\n  }\n}\n\nclass ModelLoginAndRegister extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      status: props.status,\n      email: '',\n      loginPassword: '',\n      registerPassword: '',\n      registerName: '',\n      error: '',\n    }\n  }\n\n  login=()=>{\n    firebaseApi.login(this.state.email, this.state.loginPassword).then(result => {\n      if(result.user) {\n        this.setState({error: ''})\n        this.props.hasLogin()\n      }\n      else {\n        this.setState({error: result.error})\n      }\n    })\n  }\n\n  register = () => {\n    firebaseApi.register(this.state.email, this.state.registerPassword).then(result=> {\n      if(result.user) {\n        axios.post('https://us-central1-cs498rk-239014.cloudfunctions.net/user/', {\n          name: this.state.registerName,\n          email: this.state.email\n        }).then(response => {\n          console.log(response.data);\n        });\n        this.setState({error: '', status: 'Login'})\n      }\n      else {\n        this.setState({error: result.error})\n      }\n    })\n  }\n\n  render() {\n      return (<Modal trigger={<span>{this.props.status}</span>} closeIcon>\n      <Modal.Header>Trip Planner -{this.state.status}</Modal.Header>\n      <Modal.Content>\n          {\n            this.state.status === 'Login' ?\n            <Modal.Description>\n              <div className='login-register-content'>\n                <Input icon='envelope' placeholder='Email' type='email' value={this.state.email} onChange={event=>this.setState({email: event.target.value})}/>\n                <Input icon='lock' placeholder='Password' type='password' value={this.state.loginPassword} onChange={event=>this.setState({loginPassword: event.target.value})}/>\n                <Button className='ui button green' onClick={this.login}> Login </Button>\n                <a className='subButton' onClick={()=>this.setState({status: 'Register'})}> Create an account </a>\n              </div>\n            </Modal.Description>\n          : <Modal.Description>\n              <div className='login-register-content'>\n                <Input icon='user' placeholder='Name' value={this.state.registerName} onChange={event=>this.setState({registerName: event.target.value})}/>\n                <Input icon='envelope' placeholder='Email' type='email' value={this.state.email} onChange={event=>this.setState({email: event.target.value})}/>\n                <Input icon='lock' placeholder='Password' type='password'  value={this.state.registerPassword} onChange={event=>this.setState({registerPassword: event.target.value})}/>\n                <Button className='ui button green' onClick={this.register}> Register </Button>\n                <a className='subButton'  onClick={()=>this.setState({status: 'Login'})}> Already have an account? </a>\n              </div>\n            </Modal.Description>\n          }\n          <span className='error'> {this.state.error} </span>\n      </Modal.Content>\n    </Modal>\n  )\n  }\n}\n","// Imports\nimport React, { Component } from 'react';\nimport 'semantic-ui-css/semantic.min.css';\nimport { Input } from 'semantic-ui-react'\nimport '../../style/Home.scss';\n\nclass CitySearch extends Component {\n  componentDidMount() {\n    // Declare Options For Autocomplete\n    var options = {\n      types: ['(cities)'],\n    };\n\n    // Initialize Google Autocomplete\n    /*global google*/ // To disable any eslint 'google not defined' errors\n    this.autocomplete = new google.maps.places.Autocomplete(\n      document.getElementById('city-search'),\n      options,\n    );\n\n    // Fire Event when a suggested name is selected\n    this.autocomplete.addListener('place_changed', this.handlePlaceSelect);\n  }\n\n  handlePlaceSelect =()=> {\n    // Extract City From Address Object\n    let addressObject = this.autocomplete.getPlace();\n    let address = addressObject.address_components;\n\n    // Check if address is valid\n    if (address) {\n      // Set State\n      this.props.onSelect(\n        address[0].long_name, \n        addressObject.formatted_address, \n        {\n          lat: addressObject.geometry.location.lat(),\n          lng: addressObject.geometry.location.lng()\n        }\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"city-search\" >\n        <Input id=\"city-search\" value={this.props.query} onChange={this.props.onChange} placeholder=\"Destination\" icon='search' iconPosition='left'/>\n      </div>\n    );\n  }\n}\nexport default CitySearch;\n","import React, { Component } from 'react'\nimport { Input } from 'semantic-ui-react'\nimport '../../style/Home.scss'\nimport NavBar from '../common/NavBar'\nimport DatePicker from 'react-datepicker'\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport CitySearch from './CitySearch'\n\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      startDate: new Date(),\n      duration: 0,\n      city: '',\n      cityQuery: '',\n      cityLocation: {lat: 41.8781, lng: -87.6298}\n    }\n  }\n\n  changeDestination = event => {\n    this.setState({destination: event.target.value})\n  }\n\n  changeDate = date => {\n    this.setState({startDate: date})\n  }\n\n  createTrip = () => {\n    this.props.history.push('/trip-planner/create', {...this.state})\n  }\n\n  setCitySearchResult = (city, cityQuery, cityLocation) => {\n    this.setState({city, cityQuery, cityLocation})\n  }\n\n  changeCitySearch = event => {\n    this.setState({cityQuery: event.target.value})\n  }\n\n  render() {\n    return (\n      <div className='home-container'>\n        <NavBar history={this.props.history}/>\n        <div className ='bg'>\n          <div className='ui card basic-info'>\n            <h3> Start planning your trip </h3>\n            <CitySearch onChange={this.changeCitySearch} onSelect={this.setCitySearchResult} query={this.state.cityQuery}/>\n            <div className= \"date-container\">\n              <h3> Start Date </h3>\n              <DatePicker className=\"datepicker\"\n                  selected={this.state.startDate}\n                  onChange={date => this.changeDate(date)}\n              />\n            </div>\n            <Input\n            className='duration'\n            onChange={event=>this.setState({duration:event.target.value})}\n            type='number'\n            label='Duration'\n            value={this.state.duration}\n            />\n            <button className=\"ui pink button\" onClick={this.createTrip}>Let's go!</button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport {Input} from 'semantic-ui-react'\n\n\nexport default function SearchInput(props){\n  return <Input\n  onChange={props.onChange}\n  placeholder={props.placeholder||'search...'}\n  value={props.value}\n  action={{ color: 'teal', icon: 'search', onClick:props.searchOnClick}}\n  />\n}\n","import React, { Component } from 'react'\nimport { Card, Image, Input, Button} from 'semantic-ui-react'\nimport '../../style/ActivityCard.scss'\n\n// This component contains activities added to route planner\n//parent: datecard\nexport default class ActivityCard extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state={\n      name: '',\n      location: '',\n      isPopularActivity: true,\n      isEditing: false,\n    }\n  }\n\n  componentDidMount() {\n    console.log(this.props)\n    this.setState({name: this.props.name, isPopularActivity: this.props.isPopularActivity})\n  }\n\n  toggleEditView = () => {\n    this.setState({isEditing: !this.state.isEditing})\n  }\n  deleteActivity=()=>{\n    this.props.deleteActivity(this.props.name) //use the name as teh id\n  }\n\n  render() {\n    if(!this.props.formatted_address) {\n      return (!this.state.isEditing?\n          <Card className='activity-container'>\n           <Card.Content>\n            <Card.Header>{this.state.name}</Card.Header>\n            <Card.Meta>Personal Activity</Card.Meta>\n            <a className='edit-activity' onClick={this.toggleEditView}>edit</a>\n            <a className='delete-activity' onClick={this.deleteActivity}>delete</a>\n            </Card.Content>\n          </Card>\n        :<Card className='activity-container'>\n          <Card.Content>\n            <Input placeholder='name' value={this.state.name} onChange={event=>this.setState({name: event.target.value})}/>\n            <Button onClick={this.toggleEditView}>Save</Button>\n          </Card.Content>\n          </Card>)\n\n    }\n    return (\n          <Card className='activity-container'>\n            <Card.Content>\n              <Image floated='right' size='mini' src={this.props.icon}/>\n               <Card.Header>{this.props.name}</Card.Header>\n               <Card.Meta>Location: {this.props.formatted_address}</Card.Meta>\n               <a className='view-detail' href={this.props.url} target='_blank'>view detail</a>\n               <a className='delete-activity' onClick={this.deleteActivity}>delete</a>\n             </Card.Content>\n          </Card>\n    )\n  }\n}\n","import React from 'react'\nimport {Button} from 'semantic-ui-react'\n\nexport default function SelectionButtons(props) {\n  return (\n    <Button.Group>\n      <Button color={props.selectOption1?'teal':null} onClick={props.onToggle}>{props.option1}</Button>\n      <Button.Or />\n      <Button color={!props.selectOption1?'teal':null} onClick={props.onToggle}>{props.option2}</Button>\n    </Button.Group>\n  )\n}\n","import React, { Component } from 'react'\nimport { Card, Input, Button} from 'semantic-ui-react'\nimport SearchInput from '../common/SearchInput'\nimport '../../style/NewActivityCard.scss'\nimport SelectionButtons from '../common/SelectionButtons'\n\n\n// This is the card view when adding new activity.\n// Parent: DateCards\nexport default class NewActivityCard extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state={\n      isSearchingPopular: true,\n      searchAttraction: '',\n      searchFood: '',\n      isSearchingAttraction: true,\n      customActivity: ''\n    }\n  }\n\n  addCustomActicity = () => {\n    this.setState({isSearchingPopular: false})\n    this.props.addCustomActicity(this.state.customActivity)\n  }\n\n  render() {\n    return (<Card className='new-activity-container' fluid>\n      <Card.Content>\n        <SelectionButtons option1='Popular Activity' option2='Personal Activity'\n        selectOption1={this.state.isSearchingPopular} onToggle={()=>this.setState({isSearchingPopular:!this.state.isSearchingPopular})}/>\n        {this.state.isSearchingPopular?\n          <div className='search-bar'>\n            {this.state.isSearchingAttraction?\n              <SearchInput onChange={event=>this.setState({searchAttraction: event.target.value})}\n                placeholder='search activity...' value={this.state.searchAttraction}\n                searchOnClick={()=>this.props.searchThings(this.state.searchAttraction, 'attraction')}/>\n                :\n              <SearchInput onChange={event=>this.setState({searchFood: event.target.value})}\n                placeholder='search food...' value={this.state.searchFood}\n                searchOnClick={()=>this.props.searchThings(this.state.searchFood, 'food')}/>\n            }\n            <SelectionButtons option1='Activity' option2='Food'\n            selectOption1={this.state.isSearchingAttraction} onToggle={()=>this.setState({isSearchingAttraction:!this.state.isSearchingAttraction})}/>\n          </div>\n            :\n          <Input className='personal' onChange={event=>this.setState({customActivity: event.target.value})} value={this.state.customActivity}\n            action={{ color: 'teal', icon: 'check', onClick:this.addCustomActicity}}/>\n        }\n        <Button onClick={this.props.onCancel}>Cancel</Button>\n      </Card.Content>\n    </Card>)\n  }\n}\n","import React, { Component } from 'react'\nimport { Card, Header, Input, Icon, Button} from 'semantic-ui-react'\nimport SearchInput from '../common/SearchInput'\nimport '../../style/RoutePlanner.scss'\nimport ActivityCard from './ActivityCard'\nimport SelectionButtons from '../common/SelectionButtons'\nimport NewActivityCard from './NewActivityCard'\n\n// Contains attractions for each day, receive a list of activities to populate the route\n// parent: RoutePlanner\n// component of DateCard: {\n  // hotel: {}, activities: []\n//}\nexport default class DateCard extends Component {\n\n    constructor(props) {\n      super(props)\n\n      this.state={\n        hotel: {},\n        searchHotel: '',\n        isSearchingHotel: true,\n        activities: this.props.activities,\n        isAddingNewActivity: false,\n        customHotel: ''\n      }\n    }\n\n\n    switchHotel = () => {\n      this.setState({isSearchingHotel: !this.state.isSearchingHotel})\n    }\n    openAddActivityCard =() => {\n      this.setState({isAddingNewActivity: !this.state.isAddingNewActivity})\n    }\n\n    searchThings=(keyword, type) => {\n      // Add its own day index\n      this.props.searchThings(keyword, type, this.props.index)\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n      if(prevProps.hotel.name !== this.props.hotel.name) {\n        this.setState({hotel: this.props.hotel})\n      } else if(this.props.activities.length !== prevProps.activities.length) {\n        this.setState({activities: this.props.activities})\n      }\n    }\n\n    editHotel = () => {\n      let hotel = {...this.state.hotel}\n      hotel.name = ''\n      this.setState({hotel, searchHotel: this.state.hotel.name})\n    }\n\n    setCustomHotel = () => {\n      let hotelName = this.state.customHotel\n      this.setState({hotel: {name: hotelName}})\n      this.props.setHotel(hotelName, this.props.index)\n    }\n\n    addCustomActicity = name => {\n      this.props.addCustomActicity(name, this.props.index)\n    }\n\n    deleteActivity = name => {\n        this.props.deleteActivity(name, this.props.index)\n    }\n\n    updateMap = () => {\n      this.props.updateMap(this.props.index);\n    }\n\n    render() {\n      let listOfActivities = this.state.activities.map(activity => <ActivityCard deleteActivity={this.deleteActivity} key={activity.name} {...activity} />)\n      return (<Card className='day-container'>\n        <Card.Content>\n          <Card.Header>Day {this.props.index+1}</Card.Header>\n          <Header.Content>\n            <div className='hotel-container'>\n              <Icon name='hotel' />\n              Staying in\n              {this.state.hotel.name?\n                <div className='hotel-name'>\n                  <span> {this.state.hotel.name} </span>\n                  {this.state.hotel.url? <a className='edit-activity' href={this.state.hotel.url} target='_blank'> view detail </a>:null}\n                  <a className='edit-activity' onClick={this.editHotel}>edit</a>\n                </div>\n                :\n                <div className='hotel-value-container'>\n                {this.state.isSearchingHotel?\n                  <SearchInput onChange={event=>this.setState({searchHotel: event.target.value})}\n                    placeholder='popular hotel' value={this.state.searchHotel}\n                    searchOnClick={()=>this.searchThings(this.state.searchHotel, 'hotel')}/>\n                  :\n                  <Input onChange={event=>this.setState({customHotel: event.target.value})} value={this.state.customHotel}\n                    action={{ color: 'teal', icon: 'plus', onClick: this.setCustomHotel}}/>\n                }\n                <SelectionButtons option1='Popular' option2='Personal'\n                selectOption1={this.state.isSearchingHotel} onToggle={this.switchHotel}/>\n                </div>\n              }\n              <Button className='map-button' icon='map marker alternate' color='teal' content='View on map' onClick={this.updateMap}/>\n            </div>\n          </Header.Content>\n        </Card.Content>\n        {this.state.activities.length?\n          <Card.Content extra>\n            {listOfActivities}\n          </Card.Content>\n          :null\n        }\n        <Card.Content extra className='new-activity-button-container'>\n            <Button basic color='teal' onClick={this.openAddActivityCard}>\n              Add New Activity\n            </Button>\n            {this.state.isAddingNewActivity?\n              <NewActivityCard onCancel={()=>this.setState({isAddingNewActivity: false})}\n              searchThings={this.searchThings} addCustomActicity={this.addCustomActicity}/>\n              : null\n            }\n        </Card.Content>\n      </Card>)\n    }\n}\n","import React, {Component} from 'react'\nimport {Button, Modal, List, Search, Icon} from 'semantic-ui-react'\nimport '../../style/ShareWidget.scss'\nimport _ from 'lodash'\n\nconst dummy = [{name: 'Jack', email: 'jacky@example.com'},{name: 'Mary', email: 'mary@example.com'},{name: 'Amy', email: 'amy@example.com'}]\nexport default class ShareWidget extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      value: '',\n      results: [],\n      listOfUsers: [],\n      matchedResult:[]\n    }\n  }\n  componentDidMount() {\n    //TODO: query all the users here in future\n    this.setState({results: dummy.map(dum => ({...dum, title: dum.name, description: dum.email}))})\n  }\n\n  handleResultSelect = (e, { result }) => {\n    let listOfUsers = [...this.state.listOfUsers]\n    let listOfEmails = listOfUsers.map(user=>user.email)\n    if(listOfEmails.includes(result.email)) { return this.setState({value: ''}) }\n    listOfUsers.push(result)\n    this.setState({listOfUsers})\n    this.resetComponent()\n  }\n\n  resetComponent = () => this.setState({ isLoading: false, matchedResult: [], value: '' })\n\n  handleSearchChange =  (e, { value }) => {\n    console.log(this.state.results)\n    this.setState({ isLoading: true, value })\n    setTimeout(() => {\n      if (this.state.value.length < 1) return this.resetComponent()\n\n      const re = new RegExp(_.escapeRegExp(this.state.value), 'i')\n      const isMatch = result => re.test(result.title)\n\n      this.setState({\n        isLoading: false,\n        matchedResult: _.filter(this.state.results, isMatch),\n      })\n    }, 300)\n  }\n\n  deselectUser = (user) => {\n    let listOfUsers = this.state.listOfUsers\n    _.pull(listOfUsers, user)\n    this.setState({listOfUsers})\n  }\n\n  shareTrip = ()=>{\n    //TODO: add share logic in future\n  }\n\n  render() {\n    let listOfUsers = this.state.listOfUsers.map((user, idx)=>\n      <List.Item key={idx}>\n        <Icon name='close'onClick={()=>this.deselectUser(user)} />\n        <List.Content>\n          <List.Header>{user.name}</List.Header>\n          <List.Description>\n            {user.email}\n          </List.Description>\n        </List.Content>\n      </List.Item>\n    )\n    return (<Modal closeIcon\n      trigger={this.props.trigger}>\n    <Modal.Header>Share Your Trip!</Modal.Header>\n    <Modal.Content>\n      <Modal.Description>\n          <div className='search-bar'>\n            <Search onResultSelect={this.handleResultSelect} loading={this.state.isLoading}\n            onSearchChange={_.debounce(this.handleSearchChange, 500, { leading: true })}\n            value={this.state.value}\n            results={this.state.matchedResult}/>\n             <List divided className='share-list'>\n              {listOfUsers}\n             </List>\n            <Button className='ui button teal' onClick={this.shareTrip}> Share </Button>\n          </div>\n        </Modal.Description>\n    </Modal.Content>\n  </Modal>)\n  }\n}\n","import React, { Component } from 'react'\nimport {Card, Button, Modal, Form} from 'semantic-ui-react'\nimport DateCard from './DateCard'\nimport ShareWidget from '../common/ShareWidget'\nimport '../../style/RoutePlanner.scss'\nimport * as firebaseApi from '../../api/firebaseAuth'\n\n// Only contains daily route\n//parent: CreateTripBody\n// The planner store all the routes\nexport default class RoutePlanner extends Component {\n  constructor(props) {\n    super(props)\n    let originalHotels = new Array(this.props.duration)\n    originalHotels.fill({name: ''})\n    let originalPlans = new Array(this.props.duration).fill(null).map(item =>(new Array(0)))\n    this.state = {\n      isSaved : false,\n      route: originalPlans,\n      hotels: originalHotels,\n      markers: [],\n      mapDay: -1,\n      openLoginModal: false,\n      openSaveModal:false,\n      name: '',\n      description: ''\n    }\n  }\n\n\n  componentDidUpdate(prevProps) {\n    if(!prevProps.newAddedThing && !this.props.newAddedThing) return;\n    if( (!prevProps.newAddedThing && this.props.newAddedThing) ||\n        (prevProps.newAddedThing.day !== this.props.newAddedThing.day ||\n          prevProps.newAddedThing.id !== this.props.newAddedThing.id)) {\n      let newAddedThing = this.props.newAddedThing\n      if (newAddedThing.type !== 'hotel'){\n        let route = [...this.state.route]\n        const {name, geometry, place_id, url} = newAddedThing.thing\n        let geometry_number = {\n          location: {\n            lat: geometry.location.lat(),\n            lng: geometry.location.lng()\n          }\n        }\n        console.log(geometry_number)\n        route[newAddedThing.day].push({name,  place_id, url, location: name, geometry: geometry_number,isPopularActivity: true})\n        if (newAddedThing.day === this.state.mapDay) {\n          let newMarkers = this.refreshMarkers(route[newAddedThing.day], this.state.hotels[newAddedThing.day]);\n          this.setState({route, isSaved: false, markers: newMarkers})\n        } else {\n          this.setState({route, isSaved: false})\n        }\n      }\n      else {\n        let hotels = [...this.state.hotels]\n\n        const {place_id, name, url, geometry} = newAddedThing.thing\n        let geometry_number = {\n          location: {\n            lat: geometry.location.lat(),\n            lng: geometry.location.lng()\n          }\n        }\n        hotels[newAddedThing.day] = {place_id, name, url,geometry: geometry_number, isPublicHotel: true}\n        this.setState({hotels, isSaved: false})\n      }\n    }\n  }\n\n  attemptToSaveTrip = () => {\n    if(!firebaseApi.getCurrentUser()) {\n      this.setState({openLoginModal: true})\n    } else {\n      this.setState({openSaveModal: true})\n      \n    }\n  }\n\n  saveTrip = () => {\n    let dailyRoutes = this.state.route.map((route, index) => (\n        {\n          day: index,\n          hotel: this.state.hotels[index],\n          activities: route,\n        }\n      ))\n    let newTrip = {\n      name: this.state.name,\n      description: this.state.description,\n      routes: dailyRoutes,\n    }\n    this.props.saveTrip(newTrip);\n  }\n\n  setHotel = (hotel, dateIndex) => {\n    let hotels = this.state.hotels\n    hotels[dateIndex] = {name: hotel, isPublicHotel: false}\n    this.setState({hotels})\n  }\n\n  addCustomActicity = (name, day) => {\n    let route = [...this.state.route]\n    route[day].push({name, isPopularActivity: false})\n    this.setState({route, isSaved: false})\n  }\n\n  deleteActivity = (name, day) => {\n    let route = [...this.state.route]\n    route[day] = route[day].filter(acitivity => acitivity.name !== name)\n    if (day === this.state.mapDay) {\n      let newMarkers = this.refreshMarkers(route[day], this.state.hotels[day]);\n      this.setState({route, isSaved: false, markers: newMarkers})\n    } else {\n      this.setState({route, isSaved: false})\n    }\n  }\n\n  updateMap = (day) => {\n    let newMarkers = this.refreshMarkers(this.state.route[day], this.state.hotels[day]);\n    this.setState({markers: newMarkers, mapDay: day});\n    this.props.openModal()\n  }\n\n  refreshMarkers = (activities, hotel) => {\n    let markers = [...this.state.markers];\n    markers.forEach(marker => {\n      marker.setMap(null);\n    });\n\n    let newMarkers = activities.filter(activity => activity.geometry)\n      .map(activity => {\n        console.log(activity.geometry.location)\n        const marker = new window.google.maps.Marker({\n          position: activity.geometry.location,\n          map: this.props.map,\n          title: activity.name\n        });\n        marker.addListener('click', e => {\n          this.createInfoWindow(e, this.props.map, activity);\n        });\n        return marker;\n      });\n    if(hotel.geometry) {\n      newMarkers.push(new window.google.maps.Marker({\n        position: hotel.geometry.location,\n        map: this.props.map,\n        title: hotel.name\n      }))\n    }\n    return newMarkers;\n  }\n\n  createInfoWindow(e, map, activity) {\n    const infoWindow = new window.google.maps.InfoWindow({\n        content: activity.name,\n        position: { lat: e.latLng.lat(), lng: e.latLng.lng() }\n    });\n    infoWindow.open(map);\n  }\n\n  handleTripAttrsChange = (e, {name, value}) => this.setState({ [name]: value })\n\n  render() {\n    // need to set the key like this so that we rerender the new date card everytime there is a new activity added\n    let dateCards = this.state.route.map((activities, idx) =>\n    <DateCard activities={activities} key={idx} index={idx} hotel={this.state.hotels[idx]}\n     searchThings={this.props.searchThings} setHotel={this.setHotel} addCustomActicity={this.addCustomActicity}\n     deleteActivity={this.deleteActivity} updateMap={this.updateMap}/>)\n    \n    let triggerButton = (<Button content='Share Your Trip' className='share-button' color='teal'/>);\n\n\n    return (\n      <div className='route-planner-container'>\n        <Card.Group>\n          {dateCards}\n        </Card.Group>\n        <div className='save-share-buttons'>\n          <Button content=\"Save\" className='save-button' onClick={this.attemptToSaveTrip} color='teal'/>\n        </div>\n        <Modal open={this.state.openLoginModal} onClose={()=>this.setState({openLoginModal: false})}closeIcon>\n          <Modal.Description>\n            <div className='model-content'>Login before you share!</div>\n          </Modal.Description>\n        </Modal>\n        <Modal open={this.state.openSaveModal} onClose={()=>this.setState({openSaveModal: false})}closeIcon>\n          <Modal.Description>\n            <Form onSubmit={this.saveTrip}>\n              <Form.Input required fluid label='Trip name' placeholder='My Awesome Trip' \n                onChange={this.handleTripAttrsChange}\n                name=\"name\"\n                value={this.state.name}\n              />\n              <Form.TextArea label='Description' placeholder='The trip with family...' \n                onChange={this.handleTripAttrsChange}\n                name=\"description\"\n                value={this.state.description}\n              />\n              <Form.Button onClick={()=>this.setState({openSaveModal: false})} >Cancel</Form.Button>\n              <Form.Button>Submit</Form.Button>\n            </Form>\n          </Modal.Description>\n        </Modal>\n      </div>)\n  }\n}\n","import React, {Component} from 'react';\nimport { Card, Button, Image, Segment, Icon, Header} from 'semantic-ui-react';\nimport '../../style/SearchView.scss';\n\n// Parent: CreateTripBody\nexport default class SearchView extends Component {\n\n  componentDidMount() {\n    console.log(this.props.searchResult)\n  }\n\n  render() {\n    if (!this.props.searchResult.length) {\n      return (<Segment placeholder>\n          <Header icon>\n            <Icon name='search' />\n              The places searched from right panel will show up here\n          </Header>\n        </Segment>)\n    }\n    let listOfResults = this.props.searchResult.map(result=>\n      <SearchResultCard addToBoard={result=>this.props.addToBoard(result)}\n    result={result} key={result.id} service={this.props.service}/>)\n\n    return (<div className='search-view-container'>\n        <h2>\n          Day {this.props.day+1}\n        </h2>\n        <h4>\n          <span className='keywords'> keywords: {this.props.keyword}</span>\n          <span> type: {this.props.type} </span>\n        </h4>\n        {listOfResults}\n    </div>)\n  }\n}\n\nclass SearchResultCard extends Component {\n  render() {\n    return (\n      <Card className='search-result'>\n        <Card.Content>\n          {this.props.result.photos ?\n            <Image floated='right' size='mini' src={this.props.result.photos[0].getUrl({maxWidth: 400, maxHeight: 400})}/> :\n            <Icon name='image'/>\n          }\n          <Card.Header><a href={this.props.result.url} target=\"_blank\">{this.props.result.name}</a></Card.Header>\n          <Card.Meta>Location: {this.props.result.formatted_address}</Card.Meta>\n          <Button color='teal' onClick={()=>this.props.addToBoard(this.props.result)}> Add </Button>\n        </Card.Content>\n      </Card>)\n  }\n}\n","import axios from 'axios'\n\n\nexport function createNewTrip(trip) {\n\tdummyTrips.push(trip)\n\tconsole.log(trip)\n\treturn new Promise((resolve) => {\n\t\tresolve(dummyTrips.length-1)\n\t})\n}\n\nexport function getTrips(){\n\treturn new Promise((resolve) => {\n\t\tresolve(dummyTrips)\n\t})\n}\n\n\nexport function getTripById(tripId) {\n\tlet tripIndex = 0\n\treturn new Promise((resolve) => {\n\t\tresolve(dummyTrips[tripId])\n\t})\n}\n\nvar dummyTrips = [\n      {\n       id: 1,\n       startDate: \"2018-12-16T03:24:00\",\n       duration: 3,\n       routes: [{\n\t       \t\t   day: 0,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'sleep',\n       \t\t       \t\tlocation: 'union',\n       \t\t       \t\tisPopularActivity: false,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.119661, lng: -88.242426}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'walk',\n       \t\t       \t\tlocation: 'quad',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\tgeometry:{location: {lat: 40.107677, lng: -88.227220}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'home'\n       \t\t       }\n\t       \t\t},\n\t       \t\t{\n\t       \t\t   day: 1,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'eat',\n       \t\t       \t\tlocation: 'black dog',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.118222, lng: -88.240011}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'play frisbee',\n       \t\t       \t\tlocation: 'japan house',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.093110, lng: -88.217941}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'union'\n       \t\t       }\n\t       \t\t}],\n       owner: 1,\n       shared: [2,3],\n       city:{\n       \tname: \"city\",\n       \tlocation: {\n       \t\tlat: 40.1164204,\n       \t\tlng: -88.24338290000003\n       \t}\n       }, \n       description: \"A trip with family and dogs and cats and birds and bananas!!!\",\n       name: 'Thanksgiving Trip'\n      },\n       {\n       id: 2,\n       startDate: \"2019-12-16T03:24:00\",\n       duration: 2,\n       routes: [{\n\t       \t\t   day: 0,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'sleep',\n       \t\t       \t\tlocation: 'union',\n       \t\t       \t\tisPopularActivity: false,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.119661, lng: -88.242426}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'walk',\n       \t\t       \t\tlocation: 'quad',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.107677, lng: -88.227220}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'home'\n       \t\t       }\n\t       \t\t},\n\t       \t\t{\n\t       \t\t   day: 1,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'eat',\n       \t\t       \t\tlocation: 'black dog',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.118222, lng: -88.240011}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'play frisbee',\n       \t\t       \t\tlocation: 'japan house',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.093110, lng: -88.217941}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'union'\n       \t\t       }\n\t       \t\t}\n       ],\n       owner: 1,\n       shared: [2,3],\n       city:{\n       \tname: \"city\",\n       \tlocation: {\n       \t\tlat: 40.1164204,\n       \t\tlng: -88.24338290000003\n       \t}\n       },\n       description: \"A trip with family and dogs and cats and birds and bananas!!!\",\n       name: 'Christmas Trip'\n      },\n       {\n       id: 3,\n       startDate: \"2016-12-06T03:24:00\",\n       duration: 6,\n       routes: [{\n\t       \t\t   day: 0,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'sleep',\n       \t\t       \t\tlocation: 'union',\n       \t\t       \t\tisPopularActivity: false,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.119661, lng: -88.242426}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'walk',\n       \t\t       \t\tlocation: 'quad',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.107677, lng: -88.227220}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'home'\n       \t\t       }\n\t       \t\t},\n\t       \t\t{\n\t       \t\t   day: 1,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'eat',\n       \t\t       \t\tlocation: 'black dog',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.118222, lng: -88.240011}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'play frisbee',\n       \t\t       \t\tlocation: 'japan house',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.093110, lng: -88.217941}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'union'\n       \t\t       }\n\t       \t\t}\n       ],\n       owner: 1,\n       shared: [2,3],\n       city:{\n       \tname: \"city\",\n       \tlocation: {\n       \t\tlat: 40.1164204,\n       \t\tlng: -88.24338290000003\n       \t}\n       },\n       description: \"A trip with family and dogs and cats and birds and bananas!!!\",\n       name: 'December Trip'\n      },\n       {\n       id: 4,\n       startDate: \"2019-06-23T03:24:00\",\n       duration: 8,\n       routes: [{\n\t       \t\t   day: 0,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'sleep',\n       \t\t       \t\tlocation: 'union',\n       \t\t       \t\tisPopularActivity: false,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.119661, lng: -88.242426}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'walk',\n       \t\t       \t\tlocation: 'quad',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.107677, lng: -88.227220}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'home'\n       \t\t       }\n\t       \t\t},\n\t       \t\t{\n\t       \t\t   day: 1,\n       \t\t       activities:[\n       \t\t       {\n       \t\t       \t\tname: 'eat',\n       \t\t       \t\tlocation: 'black dog',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.118222, lng: -88.240011}}\n       \t\t       \t},\n       \t\t       \t{\n       \t\t       \t\tname: 'play frisbee',\n       \t\t       \t\tlocation: 'japan house',\n       \t\t       \t\tisPopularActivity: true,\n\t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.093110, lng: -88.217941}}\n       \t\t       \t},\n       \t\t       ],\n       \t\t       hotel: {\n       \t\t       \tname: 'union'\n       \t\t       }\n\t       \t\t}\n       ],\n       owner: 1,\n       shared: [2,3],\n       city:{\n       \tname: \"city\",\n       \tlocation: {\n       \t\tlat: 40.1164204,\n       \t\tlng: -88.24338290000003\n       \t}\n       },\n       description: \"A trip with family and dogs and cats and birds and bananas!!!\",\n       name: 'Winter Break Trip'\n      },\n    ]","var currentUserId = 1; // need to populate from data base \n\nexport function getCurrentUserId() {\n\treturn currentUserId;\n}","import React, { Component } from 'react'\nimport { Icon} from 'semantic-ui-react'\nimport NavBar from '../common/NavBar'\nimport RoutePlanner from './RoutePlanner'\nimport SearchView from './SearchView'\nimport '../../style/CreateTrip.scss'\nimport { Redirect, Link } from 'react-router-dom'\nimport { createNewTrip } from '../../api/trip'\nimport { getCurrentUserId } from '../../api/user'\n/*global google*/\n\n// This component only contains route planner and search view\nclass CreateTripBody extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      searchKeyword: '',\n      type: '', //['hotel', 'attraction', 'food']\n      searchResult: [],\n      day: null,\n      newAddedThing: null,\n      city: this.props.city,\n      isModalOpen: false\n    }\n  }\n\n  componentDidMount() {\n    let mapElement = document.getElementById('map')\n    this.map = new google.maps.Map(mapElement, {\n      center: this.props.cityLocation,\n      zoom: 10\n    });\n    this.service = new google.maps.places.PlacesService(this.map);\n    // Get the modal\n    var modal = document.getElementById('myModal');\n\n    // When the user clicks anywhere outside of the modal, close it\n    window.onclick = function(event) {\n      if (event.target === modal) {\n        this.state.setState({isModalOpen: false})\n      }\n    }\n  }\n\n  addToBoard = newActivity => {\n    let newResult = {day: this.state.day, thing: newActivity, id: newActivity.id ,type: this.state.type}\n    this.setState({newAddedThing: newResult})\n  }\n\n  searchThings = (searchKeyword, type, day) => {\n      // TODO: make api call to do search, and set searchResult with results from api\n      this.setState({day, type, searchKeyword})\n      const city = this.state.city.toLowerCase();\n      let searchType = ''\n      switch (searchType) {\n        case \"hotel\":\n          searchType = \"lodging\"\n          break;\n        case \"food\":\n          searchType = \"food\"\n          break;\n        default:\n          searchType = \"point_of_interest\"\n      }\n      const request = {query: `${city}+${searchKeyword}+${type}`}\n      this.service.textSearch(request, (results, status) => {\n        if (status === google.maps.places.PlacesServiceStatus.OK) {\n          this.setState({searchResult: results.map(result=>({...result, id: result.place_id,\n             url: `https://www.google.com/maps/search/?api=1&query=${result.formatted_address}&query_place_id=${result.place_id}`}))})\n        }\n      });\n  }\n\n  openModal = () => {\n    this.setState({isModalOpen: true})\n  }\n\n\n  saveTrip = (newTrip) => {\n    newTrip = Object.assign(newTrip, {\n      startDate: this.props.startDate,\n      duration: this.props.duration,\n      city: {name: this.props.city, location: this.props.cityLocation},\n      owner: getCurrentUserId(),\n      shared: []\n    })\n    createNewTrip(newTrip)\n      .then((newTripId) => {\n        this.props.jumpReview(newTripId)\n      })\n    \n  }\n\n  render() {\n    return (\n      <div className='create-trip-planner'>\n        <RoutePlanner searchThings={this.searchThings} newAddedThing={this.state.newAddedThing}\n          duration={this.props.duration} map={this.map} openModal={this.openModal} saveTrip={this.saveTrip}/>\n        <SearchView addToBoard={this.addToBoard} searchResult={this.state.searchResult} service={this.service}\n          keyword={this.state.searchKeyword} day={this.state.day} type={this.state.type}/>\n        <div className={`${this.state.isModalOpen? \"openModal\": \"closeModal\"} map-modal`}>\n          <div className=\"modal-content\">\n            <Icon className=\"close-btn\" name='close' onClick={()=>this.setState({isModalOpen: false})} />\n            <div id=\"map\"></div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n\n\n// This is the whole screen of adding trip including navbar and background\nexport default class CreateTrip extends Component {\n\n  render() {\n    let startDate = this.props.location.state.startDate || new Date()\n    let endDate = new Date(startDate)\n    let duration = parseInt(this.props.location.state.duration)||3\n    endDate.setDate(endDate.getDate() + duration)\n\n    return (<div className='container'>\n      <NavBar history={this.props.history}/>\n      <div className='background'>\n        <div className='title'>\n          <h2> {this.props.location.state.cityQuery || 'Chicago'} </h2>\n          <span> {`${startDate.toDateString()}-${endDate.toDateString()}`} </span>\n        </div>\n      </div>\n      <CreateTripBody\n        startDate={startDate}\n        duration={duration}\n        city={this.props.location.state.cityQuery || 'Chicago'}\n        cityLocation={this.props.location.state.cityLocation}\n        jumpReview={(tripId) => {this.props.history.push(`/trip-planner/review/${tripId}`)}}\n      />\n    </div>)\n  }\n}\n","import React, { Component } from 'react'\nimport { Card, Button} from 'semantic-ui-react'\nimport '../../style/TripCard.scss'\nimport PropTypes from 'prop-types';\n\n// This component contains activities added to route planner\nexport default class TripCard extends Component {\n  constructor(props) {\n    super(props)\n    this.state={\n      location: '',\n      date: '',\n      description: '',\n      isDeleting: false,\n      detailViewLink: '',\n      name: ''\n    }\n  }\n\n  componentDidMount(){\n    this.setState({location: this.props.city.name, startDate: this.props.startDate, description: this.props.description, \n      isDeleting: this.props.isDeleting, detailViewLink: this.props.detailViewLink, name: this.props.name,\n      duration: this.props.duration\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    if(prevProps != this.props){\n      this.setState({location: this.props.city.name, startDate: this.props.startDate, description: this.props.description, \n      isDeleting: this.props.isDeleting, detailViewLink: this.props.detailViewLink, name: this.props.name,\n      duration: this.props.duration\n    })\n    }\n  }\n  deleteTrip = () => {\n    this.props.onDeleteTrip()\n  }\n\n  render() {\n    let startDate = new Date(Date.parse(this.state.startDate));\n    let endDate = new Date(startDate.setDate(startDate.getDate() + this.state.duration));\n    \n    return (\n          <Card className='trip-card-container' href={this.state.detailViewLink}>\n            <Card.Content>\n              <Card.Header>{this.state.location}</Card.Header>\n              <Card.Meta>{`${startDate.toLocaleDateString()}-${endDate.toLocaleDateString()}\\tDuration: ${this.state.duration}`}</Card.Meta>\n              <Card.Description>{this.state.description}</Card.Description>\n             </Card.Content>\n             {this.state.isDeleting ? \n              <Card.Content extra>\n                <Button onClick={this.deleteTrip} color='red'>Delete Trip</Button>\n              </Card.Content> :\n              null\n             }\n              \n          </Card>\n    )\n  }\n}\n\nTripCard.propTypes = {\n  city: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    location: PropTypes.object.isRequired,\n  }).isRequired,\n  startDate: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  detailViewLink: PropTypes.string,\n  duration: PropTypes.number.isRequired,\n  onDeleteTrip: PropTypes.func,\n  name: PropTypes.string.isRequired,\n}\n","import React, { Component } from 'react'\nimport { Card } from 'semantic-ui-react'\nimport TripCard from './TripCard'\nimport '../../style/TripList.scss'\n\nexport default class TripList extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state={\n\t\t\tdetailViewType: this.props.detailViewType || 'owner',\n\t\t\tready: false,\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif(prevProps.trips != this.props.trips)\n\t\tthis.setState({\n\t\t\ttrips: this.props.trips,\n\t\t\tready: true\n\t\t})\n\t}\n\n\tdeleteTrip = (id) => {\n\t\tlet trips = this.state.trips.filter((trip) => (trip['id'] != id))\n\t\tthis.setState({\n\t\t\ttrips\n\t\t})\n\t}\n\n\trender(){\n\t\tif(this.state.ready){\n\t\t\tlet detailViewLink = `/trip-planner/review`\n\t\t\tlet tripCards = this.state.trips.map((trip) => (\n\t\t\t\t<TripCard \n\t\t\t\tkey={trip.id}\n\t\t\t\t{...trip}\n\t\t\t\tdetailViewLink={`${detailViewLink}/${trip.id}`}\n\t\t\t\tonDeleteTrip={()=>{this.deleteTrip(trip.id)}}\n\t\t\t\t/>))\n\t\t\treturn (\n\t\t\t\t<Card.Group>\n\t\t\t\t\t{tripCards}\n\t\t\t\t</Card.Group>\n\t\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div>Loading...</div>\n\n\t\t\t\t)\n\t\t}\n\t\t\n\t}\n}\n\nTripList.defaultProps = {\n\ttrips: []\n}","import React, { Component } from 'react'\nimport { Header } from 'semantic-ui-react'\nimport  TripList  from './TripList'\nimport '../../style/ReviewView.scss'\n\nexport default class ReviewView extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t}\n\n\thasDatePast = (date) => {\n\t\tlet today = Date.now()\n\t\treturn new Date(date) < today\n\t}\n\n\trender() {\n\t\tconst upcomingTrips = this.props.trips.filter((trip) => (this.hasDatePast(trip.startDate)))\n\t\tconst pastTrips = this.props.trips.filter((trip) => (!this.hasDatePast(trip.startDate)))\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"review-trip-list\">\n\t\t\t\t<Header as='h2' content= 'Upcoming Trips' className=\"subheader\" />\n\t\t\t\t\t<TripList trips={upcomingTrips} />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"review-trip-list\">\n\t\t\t\t<Header as='h2' content= 'Past Trips' className=\"subheader\" />\n\t\t\t\t\t<TripList trips={pastTrips} detailViewType=\"other\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t)\n\t}\n}","import React, { Component } from 'react'\n// import { Menu, Modal, Button, Header, Icon, Input} from 'semantic-ui-react'\nimport NavBar from '../common/NavBar'\nimport ReviewView from './ReviewView'\nimport '../../style/ReviewTrip.scss'\nimport { getTrips } from '../../api/trip'\n/*global google*/\n\n// This component only contains route planner and search view\nclass ReviewTripBody extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      trips: [],\n      ready: false,\n    }\n  }\n\n\n  componentDidMount() {\n    getTrips()\n    .then((trips) => {\n       this.setState({\n        trips,\n        ready: true\n      })\n    })\n   \n  }\n//\n\n  render() {\n    return (\n      <div className='review-trip-body'>\n        <ReviewView trips={this.state.trips}/>\n      </div>\n    )\n  }\n}\n\n// This is the whole screen of adding trip including navbar and background\nexport default class ReviewTrip extends Component {\n  render() {\n    return (\n      <div className='review-trip-container'>\n        <NavBar/>\n        <ReviewTripBody/>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Card, Image, Input, Button} from 'semantic-ui-react'\nimport '../../style/ActivityCard.scss'\n\n// This component contains activities added to route planner\nexport default class ActivityCard extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state={\n      name: '',\n      location: '',\n      isPopularActivity: true,\n    }\n  }\n\n  componentDidMount() {\n    this.setState({name: this.props.name, location: this.props.location, isPopularActivity: this.props.isPopularActivity})\n  }\n\n  render() {\n    return (\n      <Card className='activity-container'>\n        <Card.Content>\n          <Card.Header>{this.props.name}</Card.Header>\n          <Card.Meta>{this.props.location? `Location: ${this.props.location}`: 'Personal Activity'}</Card.Meta>\n        </Card.Content>\n      </Card>\n    )\n    }\n  \n}\n","import React, { Component } from 'react'\nimport { Card, Header, Icon} from 'semantic-ui-react'\nimport '../../style/RoutePlanner.scss'\nimport ActivityCard from './ActivityCard'\n\n// Contains attractions for each day, receive a list of activities to populate the route\n// parent: RoutePlanner\nexport default class DateCard extends Component {\n\n    constructor(props) {\n      super(props)\n\n      this.state={\n        hotel: null,\n        ready: false\n       }\n    }\n\n    componentDidMount() {\n      this.setState({\n        activities: this.props.activities,\n        hotel: this.props.hotel,\n        ready: true\n      })\n    }\n\n    // componentDidUpdate(prevProps, prevState) {\n    //   if(prevProps.hotel.name !== this.props.hotel.name) {\n    //     this.setState({hotel: this.props.hotel})\n    //   } else if(this.state.isAddingNewActivity && this.props.activities.length !== prevProps.activities.length) {\n    //     this.setState({isAddingNewActivity: false, activities: this.props.activities})\n    //   }\n    // }\n\n    render() {\n      if(!this.state.ready){\n        return (<div>Loading...</div>)\n      }\n      console.log(this.state.activities)\n      let listOfActivities = this.state.activities.map(activity => <ActivityCard key={activity.name} {...activity} />)\n      return (\n        <Card className='day-container'>\n        <Card.Content>\n          <Card.Header>Day {this.props.index+1}</Card.Header>\n          <Header.Content>\n            <div className='hotel-container'>\n              <Icon name='hotel' />\n              Staying in\n                <div className='hotel-name'>\n                  <span> {this.state.hotel.name} </span>\n                </div>\n            </div>\n          </Header.Content>\n        </Card.Content>\n        {this.state.activities.length?\n          <Card.Content extra>\n            {listOfActivities}\n          </Card.Content>\n          :null\n        }\n        </Card>\n        )\n  }\n}\n","import React, { Component } from 'react'\nimport {Card, Button, Icon, Modal} from 'semantic-ui-react'\nimport DateCard from './DateCard'\nimport '../../style/RoutePlanner.scss'\nimport * as firebaseApi from '../../api/firebaseAuth'\nimport ShareWidget from '../common/ShareWidget'\n\nexport default class RouteDetail extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      ready: false,\n      openShareModal: false\n    }\n  }\n\n  // componentDidUpdate(prevProps) {\n  //   if(prevProps.id != this.state.id){\n  //     this.setState({\n  //       ...prevProps.trip\n  //     })\n  //   }\n  // }\n\n  jumpEdit = () => {\n\n  }\n\n  openShare = () => {\n    this.setState({openShareModal: true})\n  }\n\n  componentDidMount() {\n    let trip = this.props.trip;\n    this.setState({\n      ...trip,\n      ready: true\n    })\n  }\n\n  render() {\n    // need to set the key like this so that we rerender the new date card everytime there is a new activity added\n    if(this.state.ready){\n      let dateCards = this.state.routes.map((day, idx) => (<DateCard activities={day.activities} key={idx} index={day.day} hotel={day.hotel}/>))\n      let shareIcon =  (<Icon className=\"icon\" name=\"share square\" color='teal' size=\"large\" />)\n      return (\n        <div className=\"route-planner\">\n        <div className=\"title\">\n          <h1> Route Details </h1>\n          <div className=\"icon-group\">\n            <Icon className=\"icon\" name=\"edit\" color='teal' size=\"large\" onClick={this.jumpEdit}/>\n           <ShareWidget trigger={shareIcon}/>\n          </div>\n        </div>\n          <div className='review-route-planner-container'>\n            <Card.Group>\n              {dateCards}\n            </Card.Group>\n          </div>\n          <Modal open={this.state.openShareModal} onClose={()=>this.setState({openShareModal: false})}closeIcon>\n            <Modal.Description>\n              <div className='model-content'>Login before you share!</div>\n            </Modal.Description>\n          </Modal>\n        </div>\n      )\n    }\n     \n    else {\n      return (<div>Loading...</div>)\n    }\n\n  }\n}\n","import React, { Component } from 'react'\nimport RouteDetail from './RouteDetail'\nimport NavBar from '../common/NavBar'\nimport {Divider, Dropdown, Label} from 'semantic-ui-react'\nimport '../../style/ReviewTrip.scss'\nimport { getTripById } from '../../api/trip'\n/*global google*/\n\nexport class TripDetailBody extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state={\n\t\t\tmarkers: [],\n\t\t\ttrip: props.trip,\n\t\t\tselectedDate: -1\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tlet trip = this.state.trip\n\t\tlet mapElement = document.getElementById('map')\n\t\tthis.map = new google.maps.Map(mapElement, {\n\t\t\tcenter: trip.city.location,\n\t\t\tzoom: 10\n\t\t});\n\t\tthis.service = new google.maps.places.PlacesService(this.map);\n\t\tlet markers= this.getListOfMarkers(trip)\n\t\tthis.setState({markers})\n\t\tlet allMarkers = [].concat(...markers);\n\t\tthis.putMarkersOnMap(allMarkers)\n\t}\n\n\tgetListOfMarkers = (trip) => {\n\t\treturn trip.routes.map((dateRoute, idx)=> dateRoute.activities.map(\n\t\t\tactivity=> {\n\t\t\t\tlet marker = new window.google.maps.Marker({\n\t\t\t\t\tposition: activity.geometry.location,\n\t\t\t\t\tmap: null, //TODO: add props.map\n\t\t\t\t\ttitle: activity.name,\n\t\t\t\t\tlabel: (idx+1).toString()\n\t\t\t\t});\n\t\t\t\tmarker.addListener('click', e => {\n\t\t\t\t\tthis.createInfoWindow(e, this.map, activity);\n\t\t\t\t});\n\t\t\t\treturn marker;\n\t\t\t}\n\t\t))\n\t}\n\n\t//called only in componentDidMount\n\tputMarkersOnMap = (markers) => {\n\t\tmarkers.forEach(marker=>marker.setMap(this.map))\n\t}\n\n\tcreateInfoWindow=(e, map, activity)=> {\n\t\tconst infoWindow = new window.google.maps.InfoWindow({\n\t\t\t\tcontent: activity.name,\n\t\t\t\tposition: { lat: e.latLng.lat(), lng: e.latLng.lng() }\n\t\t});\n\t\tinfoWindow.open(map);\n\t}\n\n\tonChangeSelectedDay = (e, data) => {\n\t\tconsole.log(data.value)\n\t\tlet selectedDate = data.value\n\t\tlet markers = [...this.state.markers]\n\t\tif(selectedDate < 0) {\n\t\t\t// all markers are selected\n\t\t\tmarkers.forEach(markersOfADate=>{\n\t\t\t\tmarkersOfADate.forEach(marker=> marker.setMap(this.map))\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tmarkers.forEach((markersOfADate, idx)=>{\n\t\t\t\tif(idx !== selectedDate) markersOfADate.forEach(marker=> marker.setMap(null))\n\t\t\t\telse markersOfADate.forEach(marker=> marker.setMap(this.map))\n\t\t\t})\n\t\t}\n\t\tthis.setState({selectedDate, markers})\n\t}\n\n\n\n\trender() {\n\t\t\tlet dayOptions = [{ key: 'all',  text: 'All dates', value: -1}]\n\t\t\tvar i;\n\t\t\tfor(i=0; i < this.state.trip.routes.length; i++) {\n\t\t\t\tlet realDay = i+1\n\t\t\t\tdayOptions.push({ key: `${i}`,  text: `Day ${realDay}`, value: i})\n\t\t\t}\n\t\t\treturn (\n\t        \t<div className='trip-detail-body'>\n\t        \t\t<RouteDetail className='trip-detail-component' trip={this.state.trip} />\n\t\t\t\t\t\t\t<Divider vertical/>\n\t\t\t\t\t\t\t<div className='map-container'>\n\t\t\t\t\t\t\t\t<div id='map'></div>\n\t\t\t\t\t\t\t\t<span id='dropdown-label'> View places to visit on </span>\n\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tplaceholder='Select a Special Day' options={dayOptions}\tdefaultValue={dayOptions[0].value}\n\t\t\t\t\t\t\t\tonChange={this.onChangeSelectedDay}/>\n\t\t\t\t\t\t\t</div>\n\t      \t\t</div>\n\t\t\t)\n\t}\n}\n\n\nexport default class TripDetail extends Component {\n\n// getTrip = (id) => {\n// \t\treturn {\n// \t       id: 2,\n// \t       startDate: \"2019-12-16T03:24:00\",\n// \t       duration: 2,\n// \t       route: [\n// \t       \t\t{\n// \t       \t\t   day: 0,\n//        \t\t       activities:[\n//        \t\t       {\n//        \t\t       \t\tname: 'sleep',\n//        \t\t       \t\tlocation: 'union',\n//        \t\t       \t\tisPopularActivity: false,\n// \t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.119661, lng: -88.242426}}\n//        \t\t       \t},\n//        \t\t       \t{\n//        \t\t       \t\tname: 'walk',\n//        \t\t       \t\tlocation: 'quad',\n//        \t\t       \t\tisPopularActivity: true,\n// \t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.107677, lng: -88.227220}}\n//        \t\t       \t},\n//        \t\t       ],\n//        \t\t       hotel: {\n//        \t\t       \tname: 'home'\n//        \t\t       }\n// \t       \t\t},\n// \t       \t\t{\n// \t       \t\t   day: 1,\n//        \t\t       activities:[\n//        \t\t       {\n//        \t\t       \t\tname: 'eat',\n//        \t\t       \t\tlocation: 'black dog',\n//        \t\t       \t\tisPopularActivity: true,\n// \t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.118222, lng: -88.240011}}\n//        \t\t       \t},\n//        \t\t       \t{\n//        \t\t       \t\tname: 'play frisbee',\n//        \t\t       \t\tlocation: 'japan house',\n//        \t\t       \t\tisPopularActivity: true,\n// \t\t\t\t\t\t\t\t\t\tgeometry:{location: {lat: 40.093110, lng: -88.217941}}\n//        \t\t       \t},\n//        \t\t       ],\n//        \t\t       hotel: {\n//        \t\t       \tname: 'union'\n//        \t\t       }\n// \t       \t\t}\n\n// \t       ],\n// \t       owner: 1,\n// \t       shared: [2,3],\n// \t       location: 'Champaign',\n// \t\t\t\t cityLocation: {lat: 40.1179, lng:-88.2293},\n// \t       description: \"A trip with family and dogs and cats and birds and bananas!!!\",\n// \t       name: 'Christmas Trip'\n// \t      }\n// \t}\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tready: false\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tlet { id } = this.props.match.params\n\t\tgetTripById(id)\n\t\t\t.then((trip) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttrip,\n\t\t\t\t\tready: true\n\t\t\t\t})\n\t\t\t})\n\t\t\n\t}\n\n\n\trender() {\n\t\tif(this.state.ready){\n\t\t\tlet trip = this.state.trip;\n\t\t\tlet startDate = new Date(Date.parse(trip.startDate));\n    \tlet endDate = new Date(startDate.setDate(startDate.getDate() + trip.duration));\n\t\t\treturn (\n\t\t\t<div className='container'>\n\t        \t<NavBar/>\n\t        \t<div className='background'>\n\t\t\t        <div className='title'>\n\t\t\t          <h2> {trip.name} </h2>\n\t\t\t          <span> {`${startDate.toLocaleDateString()}-${endDate.toLocaleDateString()}`} </span>\n\t\t\t          <span> {`${trip.city.name}`}</span>\n\t\t\t          <h6><i>{trip.description}</i></h6>\n\t\t\t        </div>\n\t\t\t\t\t\t</div>\n\t        \t<TripDetailBody trip={this.state.trip}/>\n\t     </div>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (<div> Loading... </div>)\n\t\t}\n\t}\n}\n","import React, {Component} from 'react'\nimport { Button, Input, Header} from 'semantic-ui-react'\nimport NavBar from '../common/NavBar'\nimport {resetPassword, getCurrentUser} from '../../api/firebaseAuth.js'\nimport '../../style/Profile.scss'\n\n\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editName: '',\n      isEditing: false,\n      email: ''\n    }\n  }\n\n  componentDidMount() {\n    let user = getCurrentUser()\n    let name = 'Zifei' //TODO: getUserNameByUID\n    if(!user) return this.props.history.push('/trip-planner')\n    this.setState({editName: name, email: user.email })\n  }\n\n\n  toggleEdit = () =>{\n      this.setState({isEditing: !this.state.isEditing})\n  }\n\n  onNameChange = event => {\n    this.setState({editName: event.target.value})\n  }\n\n  resetPassword = () => {\n    resetPassword(this.props.email).then(result => {\n      alert('An email has been sent to ' + this.state.email)\n    })\n  }\n\n  render() {\n    return (<div>\n      <NavBar history={this.props.history}/>\n      <div className='profile-container'>\n      <Header> Profile </Header>\n      <div>Name</div>\n      <Input value={this.state.editName} disabled={!this.state.isEditing} onChange={this.onNameChange}\n      action={{color: 'teal', icon: this.state.isEditing?'check':'pencil', onClick:this.toggleEdit}} />\n      <div> Email </div>\n      <Input value={this.state.email} disabled={true}/>\n      <Button onClick={this.resetPassword} color='teal'>Reset Password</Button>\n      </div>\n    </div>)\n  }\n\n}\n","import React, { Component } from 'react';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\nimport 'semantic-ui-css/semantic.min.css';\n\n// Include your new Components here\nimport Home from './Home.jsx';\nimport CreateTrip from '../Create/CreateTrip.js'\nimport ReviewTrip from '../Review/ReviewTrip.js'\nimport TripDetail from '../ReviewDetail/TripDetail.js'\nimport Profile from '../Profile/Profile.js'\n\nimport '../../style/App.module.scss'\n\nclass App extends Component {\n  render() {\n    return (\n        <Router>\n          <Switch>\n              <Route exact path=\"/\" component={Home}/>\n              <Route exact path=\"/trip-planner/create\" component={CreateTrip} />\n              <Route exact path=\"/trip-planner/review\" component={ReviewTrip} />\n              <Route exact path=\"/trip-planner/review/:id\" component={TripDetail} />\n              <Route exact path=\"/trip-planner/profile\" component={Profile} />\n          </Switch>\n        </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}